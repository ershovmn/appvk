{"version":3,"sources":["panels/settings/Settings.js","ServerAddress.js","panels/map/Bag.js","panels/map/Menu.js","panels/map/SelectRest.js","panels/map/Mymap.js","panels/tinder/Tinder.js","panels/Order/DetailOrder.js","panels/Order/Order.js","panels/FastOrder/FastOrder.js","panels/Start.js","FirstLogin.js","App.js","ErrorBoundary.js","index.js"],"names":["Settings","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","fetchedUser","_this2","connect","subscribe","e","detail","type","setState","data","console","log","send","localStorage","getItem","react_default","a","createElement","es6","title","before","photo_200","src","description","city","concat","first_name","last_name","onClick","data-to","React","Component","ServerAddress","Bag","onRefresh","fetching","getBag","fetch","serverAddress","method","headers","Povysh-Token","then","json","price","map","value","menu_item","items","pay","tracking","orderID","activeModal","mode","bind","assertThisInitialized","id","props","activePanel","modal","onClose","caption","actions","action","style","marginRight","marginLeft","header","right","platform","IOS","_24_done_default","onChange","target","isFetching","left","back","chevron_back_default","back_default","size","length","index","photo_url","name","vertical","String","Menu","getRestsID","str","restsID","i","addToCart","_ref","is_saved","openBase","snackbar","layout","done_default","fill","width","height","clearBag","bag","categories","currentCategory","categoriesID","menu_category","indexOf","push","_unused","restaraunt_id","_this3","map_Bag","trackingOrder","key","selected","asideContent","SelectRest","updateArrray","array","rests","checked","map_Menu","selectable","Mymap","restaurants","coord","code","rest","url","foodCourts","onBoundsChange","center","getCenter","zoom","getZoom","onKeyPressed","displayList","displayMap","getIdRestsOnFoodCourt","res","restaraunts","item","contextOpened","switchRest","go","modals","modalHistory","search","restrictMapArea","filters","cuisine","price_tag","switchClick","openModal","modalBack","setActiveModal","myState","coords","sendPromise","lat","long","JSONmyState","JSON","parse","bounds","_unused2","_unused3","_unused4","_unused5","setItem","stringify","Number","currentTarget","dataset","address","defaultChecked","map_SelectRest","foodCourtID","overflow","theme","onFocus","onBlur","onKeyDown","tabIndex","display","str1","toLowerCase","str2","expandable","latitude","longitude","react_yandex_maps_esm","options","instanceRef","preset","price_rating","geometry","properties","iconContent","position","bottom","Tinder","testArray","user","getPeople","people","first","sendNewProfile","onClickLike","splice","onClickNoLike","sex","currentIndex","flexDirection","alignItems","cancel_default","like_default","DetailOrder","checkNullBag","addToBagItems","order","idItem","isLoaded","created_at","status","Order","count","tarcking","mathod","Order_DetailOrder","FastOrder","myrests","kek","catch","error","_this4","getRestaraunts","Start","flag_name","viewChange","viewID","activeStory","idRest","onStoryChange","story","tabbar","data-story","text","place_default","recent_default","market_default","map_Mymap","panels_FastOrder_FastOrder","tinder_Tinder","panels_Order_Order","settings_Settings","FirstLogin","justifyContent","slideWidth","bullets","closeThis","App","allertPopout","errorAuth","autoclose","closePopout","popout","token","mytoken","test","firstLogin","blackPanel","blackText","is_new","tryGet","src_FirstLogin","panels_Start","ErrorBoundary","hasError","info","children","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","date","ReactDOM","render","src_ErrorBoundary","src_App","getElementById"],"mappings":"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","file":"static/js/main.9199d235.chunk.js","sourcesContent":["import React from 'react'\n\nimport connect from '@vkontakte/vkui-connect';\nimport {ListItem, Group, Avatar, PanelHeader, CellButton } from '@vkontakte/vkui';\n\nclass Settings extends React.Component {\n    constructor() {\n        super() \n        this.state = {\n            fetchedUser: null\n        }\n    }\n\n    componentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n    }\n    \n    render() {\n        console.log(localStorage.getItem('mapState'))\n        return (\n            <div>\n                <PanelHeader>Settings</PanelHeader>\n                {this.state.fetchedUser &&\n                <Group title=\"User Data Fetched with VK Connect\">\n                    <ListItem\n                        before={this.state.fetchedUser.photo_200 ? <Avatar src={this.state.fetchedUser.photo_200}/> : null}\n                        description={this.state.fetchedUser.city && this.state.fetchedUser.city.title ? this.state.fetchedUser.city.title : ''}\n                    >\n                        {`${this.state.fetchedUser.first_name} ${this.state.fetchedUser.last_name}`}\n                    </ListItem>\n                </Group>}\n                <Group>\n                    <CellButton onClick={console.log('tap')} data-to='tinder'>\n                        Tinder\n                    </CellButton>\n                    <CellButton onClick={console.log('tap')} data-to='tinder'>\n                        Tinder\n                    </CellButton>\n                </Group>\n            </div>\n        )\n    }\n}\n\nexport default Settings","export default 'https://170e4f1c.ngrok.io'","import React from 'react'\r\n\r\nimport {View, Panel, PanelHeader, platform, IOS, HeaderButton, List, Cell, Avatar, Tabs, TabsItem, FixedLayout, PullToRefresh, ModalRoot, ModalCard, Group, Button, ModalPage} from '@vkontakte/vkui'\r\n\r\nimport {ModalPageHeader, Select, Input} from '@vkontakte/vkui'\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\n\r\nimport connect from '@vkontakte/vkui-connect';\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\r\n\r\nimport serverAddress from '../../ServerAddress'\r\n\r\nclass Bag extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            items: [],\r\n            price: 0,\r\n            fetching: false,\r\n            activeModal: null,\r\n            orderID: null,\r\n            mode: 0\r\n        }\r\n\r\n        this.getBag = this.getBag.bind(this)\r\n        this.onRefresh = this.onRefresh.bind(this)\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.setState({fetching: true})\r\n        this.getBag()\r\n    }\r\n\r\n    getBag = () => {\r\n        fetch(serverAddress + '/api/v1/cart/view', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            var price = 0\r\n            console.log(data)\r\n            data.map((value) =>{\r\n                price += value.menu_item.price\r\n            })\r\n            console.log(price)\r\n            this.setState({items: data, price: price, fetching: false})\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getBag()\r\n    }\r\n\r\n    pay = () => {\r\n        //connect.send('VKWebAppOpenPayForm', {app_id: 7150406, action: 'pay-to-service', params: {}})\r\n        fetch(serverAddress + '/api/v1/cart/complete', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            var orderID = data.tracking\r\n            console.log(data)\r\n            this.setState({orderID: data[0].tracking, activeModal: 'orderDetail'})\r\n            //this.props.trackingOrder(orderID)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View id={this.props.id} activePanel='mainBag' modal={\r\n                <ModalRoot activeModal={this.state.activeModal}>\r\n                    <ModalCard\r\n                        id='orderDetail'\r\n                        onClose={() => this.setState({activeModal: null})}\r\n                        title='Заказ готовится'\r\n                        caption='номер вашего заказа'\r\n                        actions={[{\r\n                            title: 'Ok',\r\n                            type: 'primary',\r\n                            action: () => {this.setState({activeModal: null})}\r\n                        }]}\r\n                    >\r\n                        <div style={{marginRight:'auto', marginLeft:'auto'}}>{this.state.orderID}</div>\r\n                    </ModalCard>\r\n                    <ModalPage\r\n                        id='editDetailOrder'\r\n                        onClose={() => this.setState({activeModal: null})}\r\n                        header={\r\n                            <ModalPageHeader\r\n                                right={<HeaderButton onClick={() => this.setState({activeModal: null})}>{platform() === IOS ? 'Готово' : <Icon24Done />}</HeaderButton>}\r\n                            >\r\n                                Детали заказа\r\n                            </ModalPageHeader>\r\n                        }\r\n                    >\r\n                        <Select onChange={(e) => this.setState({mode: e.target.value})}>\r\n                            <option value='0'>Обычный заказ</option>\r\n                            <option value='1'>Планирование</option>\r\n                        </Select>\r\n                        {this.state.mode === 0 &&\r\n                            <div>\r\n                                <Cell>Выберите время</Cell>\r\n                                <Input type='time' />\r\n                            </div>\r\n                        }\r\n                    </ModalPage>\r\n                </ModalRoot>\r\n            }>\r\n                <Panel id='mainBag'>\r\n                    <PullToRefresh onRefresh={this.onRefresh} isFetching={this.state.fetching}>\r\n                        <PanelHeader\r\n                            left={\r\n                                <HeaderButton onClick={this.props.back}>\r\n                                    {platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                                </HeaderButton>\r\n                            }\r\n                        >\r\n                            Bag\r\n                        </PanelHeader>\r\n                        <Group title='Детали заказа'>\r\n                            <Cell description='Предполагаемое время готовности заказа'>12:00</Cell>\r\n                            <Button onClick={() => this.setState({activeModal: 'editDetailOrder'})} size='xl'>Изменить</Button>\r\n                        </Group>\r\n                        <Group title='Товары'>\r\n                            <List>\r\n                                {this.state.items && this.state.items.length > 0 && this.state.items.map((value, index) => {\r\n                                    return (\r\n                                        <Cell\r\n                                            before={<Avatar size={64} src={serverAddress + value.menu_item.photo_url } />}\r\n                                            description={value.menu_item.description}\r\n                                        >\r\n                                            {value.menu_item.name}\r\n                                        </Cell>\r\n                                    )\r\n                                })\r\n                                \r\n                                }\r\n                            </List>\r\n                        </Group>\r\n                        \r\n                        <FixedLayout vertical='top'>\r\n                            <Tabs>\r\n                                <TabsItem onClick={this.pay}>\r\n                                    {'Оплатить: ' + String(this.state.price) + ' руб'}\r\n                                </TabsItem>\r\n                            </Tabs>\r\n                        </FixedLayout>\r\n                    </PullToRefresh>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\nexport default Bag","import React from 'react'\r\n\r\nimport {PanelHeader, View, Panel, HorizontalScroll, TabsItem, Tabs, List, Cell, Avatar, HeaderButton, platform, IOS, Button, Snackbar, FixedLayout, Alert} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\n\r\nimport Bag from './Bag'\r\nimport { timingSafeEqual } from 'crypto';\r\n\r\nimport serverAddress from '../../ServerAddress'\r\n\r\nclass Menu extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activePanel: 'mainMenu',\r\n            categories: [],\r\n            items: [],\r\n            currentCategory: -1,\r\n            snackbar: null,\r\n            bag: false\r\n        }\r\n\r\n        this.openBase = this.openBase.bind(this)\r\n    }\r\n\r\n    getRestsID = () => {\r\n        var str = String(this.props.restsID[0])\r\n        for(var i = 1; i < this.props.restsID.length; i++) {\r\n            str += ',' + String(this.props.restsID[i])\r\n        }\r\n        return str\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(serverAddress + '/api/v1/places/food?restaurant_id=' + this.getRestsID(), {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            try {\r\n                this.setState({items: data})\r\n                var categories = []\r\n                var categoriesID = []\r\n                this.state.items.map((value) => {\r\n                    console.log(value.menu_category)\r\n                    if(categoriesID.indexOf(value.menu_category.id) === -1) {\r\n                        categories.push(value.menu_category)\r\n                        categoriesID.push(value.menu_category.id)\r\n                    }\r\n                })\r\n                this.setState({categories: categories})\r\n                if(this.state.categories && this.state.categories.length > 0) {\r\n                    this.setState({currentCategory: this.state.categories[0].id})\r\n                }\r\n            } catch { } \r\n        })\r\n        fetch(serverAddress + '/api/v1/cart/view', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            if(data.length > 0 && this.props.restsID.indexOf(data[0].menu_item.restaraunt_id) === -1) {\r\n                this.setState({bag: true})\r\n            }\r\n        })\r\n    }\r\n\r\n    addToCart = ({id, name}) => {\r\n        fetch(serverAddress + '/api/v1/cart/push?menu_item_id=' + String(id), {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            if(data.is_saved) {\r\n                this.openBase(name)\r\n            }\r\n        })\r\n    }\r\n\r\n    openBase = (name) => {\r\n        if (this.state.snackbar) return;\r\n        this.setState({ snackbar:\r\n            <Snackbar\r\n                layout=\"vertical\"\r\n                onClose={() => this.setState({ snackbar: null })}\r\n                before={<Avatar size={24} ><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n            >\r\n                {name + ' добавлен в корзину'}\r\n            </Snackbar>\r\n        })\r\n    }\r\n\r\n    clearBag = () => {\r\n        fetch(serverAddress + '/api/v1/cart/clean', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        })\r\n        this.setState({bag: false})\r\n    }\r\n\r\n    render() {\r\n        if(this.state.bag) {\r\n            return (\r\n                    <Panel id='mainError'>\r\n                        <div style={{height: '50px'}}></div>\r\n                        <p>У вас в корзине что-то есть, очистить её и продолжить?</p> \r\n                        <Button onClick={this.clearBag} size='xl'>Да</Button>\r\n                        <p></p>\r\n                        <Button onClick={() => this.setState({bag: false, activePanel: 'bag'})} size='xl'>Нет, перейти в корзину</Button>\r\n                    </Panel>\r\n            )\r\n        }\r\n        if(this.state.activePanel === 'bag') {\r\n            return (\r\n                <Bag id={this.props.id} trackingOrder={this.props.trackingOrder} back={() => this.setState({activePanel: 'mainMenu' })} />\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel={this.state.activePanel}>\r\n                <Panel id='mainMenu'>\r\n                    <PanelHeader\r\n                        left={\r\n                            <HeaderButton onClick={this.props.back}>\r\n                              {platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                              \r\n                            </HeaderButton>\r\n                        }\r\n                    >\r\n                        Menu\r\n                    </PanelHeader>\r\n                    <Tabs type=\"buttons\">\r\n                        <HorizontalScroll>\r\n                            {this.state.categories.length > 0 && this.state.categories.map((value, index) => {\r\n                                return (\r\n                                    <TabsItem\r\n                                        key={index}\r\n                                        onClick={() => this.setState({currentCategory: value.id})}\r\n                                        selected={this.state.currentCategory === value.id}\r\n                                        style={{marginLeft: '10px'}}\r\n                                    >\r\n                                        {value.name}\r\n                                    </TabsItem>\r\n                                )\r\n                            })}\r\n                        </HorizontalScroll>\r\n                    </Tabs>\r\n                    <List>\r\n                        {this.state.items && this.state.items.length > 0 && this.state.items.map((value, index) => {\r\n                            if(value.menu_category.id !== this.state.currentCategory) {\r\n                                return null\r\n                            }\r\n                            return (\r\n                                <Cell\r\n                                    before={<Avatar src={serverAddress + value.photo_url} />}\r\n                                    description={value.description}\r\n                                    asideContent={\r\n                                        <Button \r\n                                            onClick={() => {\r\n                                                this.addToCart({id: value.id, name: value.name})\r\n                                                \r\n                                            }}\r\n                                            style={{width: '80px'}}\r\n                                        >{String(value.price) + ' руб'}</Button>\r\n                                    }\r\n                                >\r\n                                    {value.name}\r\n                                </Cell>\r\n                            )\r\n                        })\r\n                        \r\n                        }\r\n                    </List>\r\n\r\n                    <FixedLayout vertical='bottom'>\r\n                        <Tabs>\r\n                            <TabsItem onClick={() => {\r\n                            this.setState({activePanel: 'bag'})\r\n                        }}>Перейти к корзине</TabsItem>\r\n                        </Tabs>\r\n                    </FixedLayout>\r\n                    {this.state.snackbar} \r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Menu","import React from 'react'\r\n\r\nimport {View, Panel, PanelHeader, HeaderButton, platform, IOS, List, Cell, FixedLayout, Button} from '@vkontakte/vkui'\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\nimport { throws } from 'assert';\r\n\r\nimport serverAddress from '../../ServerAddress'\r\n\r\nimport Menu from './Menu'\r\n\r\nclass SelectRest extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            checked: [],\r\n            activePanel: 'mainSelectRest',\r\n            restsID: []\r\n        }\r\n\r\n        this.updateArrray = this.updateArrray.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        var array = []\r\n        console.log(this.props.rests)\r\n        this.props.rests.map(() => {\r\n            array.push(false)\r\n        })\r\n        this.setState({checked: array})\r\n    }\r\n\r\n    updateArrray = () => {\r\n        var array = []\r\n        this.props.rests.map(() => {\r\n            array.push(false)\r\n        })\r\n        console.log(this.props.rests)\r\n        this.setState({checked: array})\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props.rests)\r\n        if(this.state.activePanel === 'menu') {\r\n            return (\r\n                <Menu id={this.props.id} trackingOrder={this.props.trackingOrder} restsID={this.state.restsID} back={() => {this.setState({activePanel: 'mainSelectRest'}); this.updateArrray()}} />\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel='mainSelectRest'>\r\n                <Panel id='mainSelectRest'>\r\n                    <PanelHeader\r\n                        left={\r\n                            <HeaderButton onClick={this.props.back}>\r\n                              {platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                              \r\n                            </HeaderButton>\r\n                          }\r\n                    >\r\n                        Select Rest\r\n                    </PanelHeader>\r\n                    <List>\r\n                        {this.props.rests.map((value, index) => {\r\n                            return (\r\n                                <Cell \r\n                                    selectable\r\n                                    onClick={() => {\r\n                                        var array = this.state.checked\r\n                                        array[index] = !array[index]\r\n                                        this.setState({checked: array})\r\n                                    }}\r\n                                >{value.name}</Cell>\r\n                            )\r\n                        })}\r\n                    </List>\r\n                    <FixedLayout vertical='bottom'>\r\n                        <Button size='xl' onClick={() => {\r\n                            var array = []\r\n                            this.state.checked.map((value, index) => {\r\n                                if(value) {\r\n                                    array.push(this.props.rests[index].id)\r\n                                }\r\n                            })\r\n                            this.setState({restsID: array, activePanel: 'menu'})\r\n                        }}>\r\n                            Продолжить\r\n                        </Button>\r\n                    </FixedLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SelectRest","import React from 'react'\nimport {PanelHeader, View, Panel, Search,  ModalCard, ModalRoot, ModalPage, ModalPageHeader, platform, IOS, HeaderButton, Group, Select } from '@vkontakte/vkui';\nimport {List, Cell, Switch} from '@vkontakte/vkui';\nimport {YMaps, Map, GeolocationControl, Clusterer, Placemark} from 'react-yandex-maps'\nimport connect from '@vkontakte/vk-connect';\n\nimport Menu from './Menu'\nimport SelectRest from './SelectRest'\n\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport serverAddress from '../../ServerAddress'\n\n\nclass Mymap extends React.Component {\n    restaurants = [\n        {coord: [55.70, 37.60], code: 0, id: 12345},\n        {coord: [55.70, 37.61], code: 1, id: 82936},\n        {coord: [55.70, 37.62], code: 2, id: 12761},\n        {coord: [55.50, 37.60], code: 0, id: 18235},\n        {coord: [55.80, 37.31], code: 1, id: 11813},\n        {coord: [55.50, 36.92], code: 2, id: 16381},\n        {coord: [55.90, 35.60], code: 0, id: 12936},\n    ]\n\n    map = null\n\n    rest = [\n        {name: 'Macdonalds', id: 0, url: 'https://www.pinclipart.com/picdir/middle/113-1137531_mcdonalds-logo-transparent-png-mcdonalds-logo-png-clipart.png'},\n        {name: 'KFC', id: 1, url: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRjI-yxfVTMbNT6ogrdOVoKeaL3UG5zbtgWLWPZqtBs8yGJbWx9'},\n        {name: 'BurgerKing', id: 2, url: 'https://cdn.imgbin.com/12/7/6/imgbin-hamburger-whopper-french-fries-burger-king-chicken-sandwich-burger-king-kGm4a8Unj0yht3gTpGYpkHedg.jpg'}\n    ]\n\n    foodCourts = [\n        {coord: [56.00, 37.60], restaurants: [0, 1, 2], id: 1243},\n        {coord: [56.20, 37.60], restaurants: [0, 1, 2], id: 4357},\n    ]\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            activePanel: 'map',\n            restaurants: this.restaurants,\n            map: {center: [56.00, 37.60], zoom: 14},\n            id: props.id,\n            mode: 'all',\n            contextOpened: false,\n            switchRest:[true, true, true],\n            rest: this.rest,\n            foodCourts: [],\n            go: this.props.go,\n            modals: {\n                activeModal: null,\n                modalHistory: [],\n                data: {\n                    type: null,\n                    id: null,\n                    title: null,\n                    rests: []\n                }\n            },\n            search: '',\n            displayMap: 'block',\n            displayList: 'none',\n            restrictMapArea: [[0, 0], [60, 60]],\n            rests: [],\n            filters: [],\n            cuisine: [\n                {id: 1, checked: true},\n                {id: 2, checked: true},\n                {id: 3, checked: true},\n            ],\n            price_tag: [\n                true,\n                true,\n                true,\n                true\n            ]\n        }\n\n        //this.select = this.select.bind(this)\n        this.switchClick = this.switchClick.bind(this)\n        this.openModal = this.openModal.bind(this)\n\n        this.modalBack = () => {\n            this.setActiveModal(this.state.modals.modalHistory[this.state.modals.modalHistory.length - 2])\n        }\n    }\n\n    onBoundsChange = () => {\n        try {\n            this.setState({\n                map: {\n                    center: this.map.getCenter(),\n                    zoom: this.map.getZoom()\n                }\n            })\n            //localStorage.setItem('mapState', JSON.stringify(this.state))\n        }\n        catch{\n\n        }\n    }\n\n    componentDidMount() {\n        var myState = localStorage.getItem('mapState')\n        console.log(myState)\n        var coords = [59.9339453, 30.302315699999994]\n\n        connect.sendPromise(\"VKWebAppGetGeodata\")\n            .then((data) => {\n                console.log(data)\n                coords = [data.lat, data.long]\n                this.setState({map: {center: coords, zoom: '13'}})\n            })\n\n        // navigator.geolocation.getCurrentPosition((position) => {\n        //     console.log('geolocation')\n        //     coords = [position.coords.latitude, position.coords.longitude]\n        // })\n        if(myState !== null) {\n            var JSONmyState = JSON.parse(myState)\n            var switchRest = JSONmyState.switchRest\n            if(JSONmyState.map === null) {\n                //JSONmyState.map = {center: [0, 0], zoom: 14}\n                console.log(switchRest)\n                JSONmyState = {\n                    map: {center: coords, switchRest: switchRest}\n                }\n                this.setState(JSONmyState)\n            }\n            else{\n                this.setState(JSONmyState)\n            }\n        }\n        else {\n            console.log('elese')\n            var JSONmyState = {\n                map: {\n                    center: coords,\n                    zoom: 14\n                }\n            }\n            this.setState(JSONmyState)\n        }\n        // this.setState({map: {\n        //     center: coords,\n        //     zoom: this.state.zoom\n        // }})\n        console.log(localStorage.getItem('token'))\n        fetch(serverAddress + '/api/v1/utilities/bounds?lat=' + String(coords[0]) + '&lon=' + String(coords[1]), {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                var bounds = data.bounds\n                this.setState({restrictMapArea: [[bounds[0], bounds[1]], [bounds[2], bounds[3]]]})\n            } catch { } \n        })\n        fetch(serverAddress + '/api/v1/places/around?lat=' + String(coords[0]) + '&lon=' + String(coords[1]) + '&radius=10', {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                var rests = data\n                this.setState({rests: rests})\n            } catch { } \n        })\n        fetch(serverAddress + '/api/v1/utilities/filters', {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                this.setState({filters: data})\n            } catch {}\n        })\n\n        fetch(serverAddress + '/api/v1/places/footcourts_around?lat=' + String(coords[0]) + '&lon=' + String(coords[1]) + '&radius=10', {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                this.setState({foodCourts: data})\n            }\n            catch {}\n        })\n    }\n\n    componentDidUpdate() {\n        var JSONmyState= {map: this.state.map, switchRest: this.state.switchRest}\n        //console.log(localStorage.getItem('token'))\n        localStorage.setItem('mapState', JSON.stringify(JSONmyState))\n    }\n    \n    switchClick(e) {\n        var id = Number(e.currentTarget.dataset.mode)\n        var array = this.state.switchRest\n        array[id] = !array[id]\n        this.setState({switchRest: array})\n        console.log(this.state)\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    openModal(data) {\n        console.log(data)\n        this.setState({modals: {\n            data: data,\n            activeModal: data.type\n        }})\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    setActiveModal(activeModal) {\n        activeModal = activeModal || null \n\n        this.setState({modals:{\n            activeModal: activeModal,\n            data: this.state.modals.data\n        }})\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    onKeyPressed = (e) => {\n        console.log(e)\n        if(e.key === 'Enter' && this.state.displayList === 'block') {\n            console.log('hi')\n            this.setState({displayMap: 'block', displayList: 'none'})\n        }\n    }\n\n    getIdRestsOnFoodCourt = (id) => {\n        var res = []\n        this.state.foodCourts.map((value) => {\n            if(value.id === id) {\n                value.restaraunts.map((item) => {\n                    res.push(item.id)\n                })\n            }\n        })\n        return res\n    }\n\n    render() {\n        console.log(this.state)\n        var modal = (\n            <ModalRoot activeModal={this.state.modals.activeModal}>\n                <ModalCard \n                    id='restModalCard'\n                    onClose={() => this.setActiveModal(null)}\n                    title={this.state.modals.data.title}\n                    caption={String(this.state.modals.data.address)}\n                    actions={[{\n                        title: 'Меню',\n                        type: 'primary',\n                        action: () => {this.setActiveModal(null); this.setState({activePanel: 'menu'})}\n                    }]}\n                >\n                    <p>\n                        {this.state.modals.data.description}\n                    </p>\n                </ModalCard>\n                <ModalCard\n                    id='foodcourtModalCard'\n                    onClose={() => this.setActiveModal(null)}\n                    title={this.state.modals.data.title}\n                    caption={String(this.state.modals.data.address)}\n                    actions={[{\n                        title: 'Меню',\n                        type: 'primary',\n                        action: () => {\n                            this.setActiveModal(null)\n                            this.setState({activePanel: 'selectRest'})\n                        }\n                    }]}\n                >\n                    <p>\n                        {this.state.modals.data.description}\n                    </p>\n                </ModalCard>\n                <ModalPage \n                    id='filter'\n                    onClose={() => this.setActiveModal(null)}\n                    header={\n                        <ModalPageHeader\n                            //left={platform() === ANDROID && <HeaderButton onClick={() => this.setActiveModal(null)}><Icon24Cancel /></HeaderButton>}\n                            right={<HeaderButton onClick={() => this.setActiveModal(null)}>{platform() === IOS ? 'Готово' : <Icon24Done />}</HeaderButton>}\n                        >\n                            Фильтры\n                        </ModalPageHeader>\n                    }\n                >\n                    {this.state.filters && this.state.filters.cuisine && \n                        <Group title=\"Кухня\">\n                            <List>\n                                {this.state.filters.cuisine.items && this.state.filters.cuisine.items.length > 0 && this.state.filters.cuisine.items.map((item, index) => {\n                                    if(this.state.cuisine[item.id - 1].checked) {\n                                        return (\n                                            <Cell \n                                                key={index} \n                                                defaultChecked\n                                                asideContent={<Switch defaultChecked onClick={() => {\n                                                    var array = this.state.cuisine\n                                                    array[item.id-1].checked = !array[item.id-1].checked\n                                                    this.setState({cuisine: array})\n                                                }}/>}\n                                            >{item.name}</Cell>\n                                        )\n                                    }\n                                    return (\n                                        <Cell \n                                            key={index} \n                                            asideContent={<Switch onClick={() => {\n                                                var array = this.state.cuisine\n                                                array[item.id-1].checked = !array[item.id-1].checked\n                                                this.setState({cuisine: array})\n                                            }}/>}\n                                        >{item.name}</Cell>\n                                    )\n                                })}\n                            </List>\n                        </Group>\n                    }\n                    {this.state.filters && this.state.filters.price_tag && \n                        <Group title='Ценовой диапазон'>\n                            <List>\n                                {this.state.filters.price_tag.items && this.state.filters.price_tag.items.length > 0 && this.state.filters.price_tag.items.map((value, index) => {\n                                    if(this.state.price_tag[index]) {\n                                        return (\n                                            <Cell \n                                                key={index} \n                                                defaultChecked\n                                                asideContent={<Switch defaultChecked onClick={() => {\n                                                    var array = this.state.price_tag\n                                                    array[index] = !array[index]\n                                                    this.setState({price_tag: array})\n                                                }}/>}\n                                            >{String(value[0]) + '-' + String(value[1])}</Cell>\n                                        )\n                                    }\n                                    return (\n                                        <Cell \n                                            key={index} \n                                            asideContent={<Switch onClick={() => {\n                                                var array = this.state.price_tag\n                                                array[index] = !array[index]\n                                                this.setState({price_tag: array})\n                                            }}/>}\n                                        >{String(value[0]) + '-' + String(value[1])}</Cell>\n                                    )\n                                })}\n                            </List>\n                        </Group>\n                    }\n                    {/* <List>\n                        \n                        {this.state.rest.map((value, index) => {\n                            if(this.state.switchRest[index]) {\n                                return (\n                                    <Cell key={index} asideContent={<Switch defaultChecked onClick={this.switchClick} data-mode={value.id}/>}>{value.name}</Cell>\n                                )\n                            }\n                            else {\n                                return (\n                                    <Cell key={index} asideContent={<Switch onClick={this.switchClick} data-mode={value.id}/>}>{value.name}</Cell>\n                                )\n                            }\n                        })}\n                    </List> */}\n                </ModalPage>\n            </ModalRoot>\n        )\n        if(this.state.activePanel === 'menu') {\n            return (\n                <Menu id='menu' trackingOrder={this.props.trackingOrder} restsID={[this.state.modals.data.id]} back={() => this.setState({activePanel: 'map'})}/>\n            )\n        }\n        if(this.state.activePanel === 'selectRest') {\n            return (\n                <SelectRest\n                    id='selectRest' \n                    trackingOrder={this.props.trackingOrder}\n                    foodCourtID={this.state.modals.data.id}\n                    rests={this.state.modals.data.rests}\n                    back={() => this.setState({activePanel: 'map'})}\n                    />\n            )\n        }\n        return (\n            <View header={platform() === IOS} activePanel={this.state.activePanel} modal={modal}>\n                <Panel id='map' style={{overflow: 'hidden'}}>\n                    {platform() === IOS && <PanelHeader>\n                        <Search \n                            id='search'\n                            theme='header'\n                            value={this.state.search} \n                            onChange={(value) => this.setState({search: value})} \n                            onFocus={() => this.setState({displayMap: 'none', displayList: 'block'})}\n                            onBlur={() => this.setState({displayMap: 'block', displayList: 'none'})}\n                            onKeyDown={this.onKeyPressed}\n                            tabIndex='0'\n                        />\n                    </PanelHeader>}\n                    {platform() !== IOS && \n                        <Search \n                            id='search'\n                            value={this.state.search} \n                            onChange={(value) => this.setState({search: value})} \n                            onFocus={() => this.setState({displayMap: 'none', displayList: 'block'})}\n                            onBlur={() => this.setState({displayMap: 'block', displayList: 'none'})}\n                            onKeyDown={this.onKeyPressed}\n                            tabIndex='0'\n                        />\n                    }\n                    \n                    <div style={{display: this.state.displayList}}>\n                        <List>\n                            {this.state.rests && this.state.rests.length > 0 && this.state.rests.map((value, index) => {\n                                var str1 = value.name.toLowerCase()\n                                var str2 = this.state.search.toLowerCase()\n                                if(str1.indexOf(str2) === -1 ) {\n                                    return null\n                                }\n                                return <Cell key={index} expandable onClick={() => {\n                                    console.log(value.latitude)\n                                    console.log(value.longitude)\n                                    this.setState({map: {\n                                    center: [value.latitude, value.longitude],\n                                    zoom: 14\n                                }})}}\n                                >{value.name}</Cell>\n                            })}\n                        </List>\n                    </div>\n                    <div>\n                        <YMaps>\n                            <Map height='100vh' width='100%' state={{center: this.state.map.center, zoom: this.state.map.zoom}}\n                                options={{\n                                    restrictMapArea: this.state.restrictMapArea\n                                }}\n                                instanceRef={map => this.map=map}\n                                onBoundsChange={this.onBoundsChange}\n                            >\n                                <Clusterer \n                                    options={{preset: 'islands#invertedVioletClusterIcons'}}\n                                >\n                                    {this.state.rests && this.state.rests.length > 0 && this.state.rests.map((value, index) => {\n                                        if(!this.state.cuisine[value.cuisine.id-1].checked || !this.state.price_tag[value.price_rating]) {\n                                            return null\n                                        }\n                                        if(value.name.indexOf(this.state.search) === -1) {\n                                            return null\n                                        }\n                                        return (\n                                            <Placemark \n                                                key={index}\n                                                onClick={() => {this.openModal({\n                                                    type: 'restModalCard',\n                                                    title: value.name,\n                                                    id: value.id,\n                                                    address: value.address,\n                                                    description: value.description,\n                                                    rests: []\n                                                })}}\n                                                geometry={[value.latitude, value.longitude]}\n                                                properties={{\n                                                    iconContent: value.name[0],\n                                                }}\n                                                options={{\n                                                    preset: 'islands#orangeIcon'\n                                                }}\n                                            >\n\n                                            </Placemark>\n                                        )\n                                    })}\n\n                                    {this.state.foodCourts && this.state.foodCourts.length > 0 && this.state.foodCourts.map((value, index) => {\n                                        if(!this.state.price_tag[value.price_rating]) {\n                                            return null\n                                        }\n                                        return (\n                                            <Placemark\n                                                key={index}\n                                                onClick={() => {this.openModal({\n                                                    type: 'foodcourtModalCard',\n                                                    title: value.name,\n                                                    id: value.id,\n                                                    address: value.address,\n                                                    description: value.description,\n                                                    rests: value.restaraunts\n                                                })}}\n                                                geometry={[value.latitude, value.longitude]}\n                                                properties={{\n                                                    iconContent: value.restaraunts.length,\n                                                }}\n                                                options={{\n                                                    preset: 'islands#orangeIcon'\n                                                }}\n                                            ></Placemark>\n                                        )\n                                    })}\n                                </Clusterer>\n                            </Map>\n                        </YMaps>\n                        <div style={{position: 'fixed', bottom: '50px', right: '10px'}}>\n                            {/* <img src='https://vk.com/images/stickers/94/512.png' style={{height: '75px'}} onClick={() => this.setActiveModal('filter')}/> */}\n                            <img src='https://vk.com/images/stickers/94/512.png' style={{height: '75px'}} onClick={() => this.setActiveModal('filter')}/>\n                        </div>\n                    </div>\n                    {/* <div style={{width: \"100%\", height: \"calc(100vh - 92px)\"}}>\n                        \n                        \n                    </div> */}\n                </Panel>\n            </View>\n        )\n    }\n}\n\nexport default Mymap","import React from 'react'\r\nimport {PanelHeader, View, Panel, ModalCard, ModalRoot, FixedLayout, Avatar, Cell, Select, Tabs, TabsItem, TabbarItem } from '@vkontakte/vkui';\r\n\r\nimport Icon16Cancel from '@vkontakte/icons/dist/16/cancel';\r\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\r\n\r\nimport serverAddress from '../../ServerAddress'\r\nimport { formatWithOptions } from 'util';\r\n\r\nclass Tinder extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activeModal: 'modalRoot',\r\n            first: false,\r\n            sex: '0',\r\n            people: [],\r\n            currentIndex: 0\r\n        }\r\n\r\n        this.getPeople = this.getPeople.bind(this)\r\n    }\r\n\r\n    testArray = [\r\n        {user: {name: 'persik1', id: 1, src: 'https://vk.com/images/stickers/94/512.png'}},\r\n        {user: {name: 'persik2', id: 2, src: 'https://vk.com/images/stickers/49/512.png'}},\r\n        {user: {name: 'persik3', id: 3, src: 'http://vkclub.su/_data/stickers/persik/sticker_vk_persik_002.png'}},\r\n        {user: {name: 'persik4', id: 4, src: 'https://vk.com/images/stickers/73/512.png'}},\r\n        {user: {name: 'persik5', id: 5, src: 'https://vk.com/images/stickers/75/512.png'}},\r\n        {user: {name: 'persik6', id: 6, src: 'https://s.tcdn.co/fdb/2c3/fdb2c3d5-ae19-3b60-8ffc-7b3b8099cfe5/6.png'}},\r\n        {user: {name: 'persik7', id: 7, src: 'http://vkclub.su/_data/stickers/persik/sticker_vk_persik_006.png'}},\r\n        {user: {name: 'persik8', id: 8, src: 'http://vkclub.su/_data/stickers/persik/sticker_vk_persik_006.png'}}\r\n    ]\r\n\r\n    getPeople = () => {\r\n        fetch(serverAddress + '/api/v1/matcher/queue', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            console.log(data)\r\n            this.setState({people: data, first: false})\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(serverAddress + '/api/v1/matcher/profile', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            if(data === null) {\r\n                this.setState({first: true})\r\n            }\r\n            else {\r\n                this.getPeople()\r\n            }\r\n        })\r\n    }\r\n\r\n    sendNewProfile = (id) => {\r\n        fetch(serverAddress + '/api/v1/matcher/set_preference?looking_for=' + id, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            console.log(data)\r\n            this.setState({first: false})\r\n            this.getPeople()\r\n        })\r\n    }\r\n\r\n    onClickLike = () => {\r\n        var array = this.state.people\r\n        if(array.length === 0) return\r\n        fetch(serverAddress + '/api/v1/matcher/commit?action=like&matchee_id=' + String(array[0].id), {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        })\r\n        array.splice(0, 1)\r\n        this.setState({people: array})\r\n    }\r\n\r\n    onClickNoLike = () => {\r\n        var array = this.state.people\r\n        if(array.length === 0) return\r\n        fetch(serverAddress + '/api/v1/matcher/commit?action=dislike&matchee_id=' + String(array[0].id), {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        })\r\n        array.splice(0, 1)\r\n        this.setState({people: array})\r\n        //запрос\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state)\r\n        if(this.state.first) {\r\n            return (\r\n                <View activePanel='mainfirst'>\r\n                    <Panel id='mainfirst'>\r\n                        <PanelHeader>\r\n                            Фуд-дейтинг\r\n                        </PanelHeader>\r\n                        <p>Найдите себе человека, который разделяет ваши предпочтения в еде.</p>\r\n                        <p>Проводите вместе время за любимыми блюдами.</p>\r\n                        <p>Я хочу найти себе</p>\r\n                        <Select onChange={(e) => this.setState({sex: e.target.value})}>\r\n                            <option value=\"0\">Парня</option>\r\n                            <option value='1'>Девушку</option>\r\n                        </Select>\r\n                        <FixedLayout vertical='bottom'>\r\n                            <Tabs>\r\n                                <TabsItem onClick={() => {\r\n                                    this.sendNewProfile(this.state.sex)\r\n                            }}>Начать</TabsItem>\r\n                            </Tabs>\r\n                        </FixedLayout>\r\n                    </Panel>\r\n                </View>\r\n            )\r\n        }\r\n        console.log(this.state)\r\n        return (\r\n            <View activePanel=\"tinderroot\">\r\n                <Panel id='tinderroot'>\r\n                    <PanelHeader>\r\n                        Tinder\r\n                    </PanelHeader>\r\n                        <div style={{\r\n                            display: 'flex', \r\n                            flexDirection: 'column',\r\n                            height: '100vh',\r\n                            alignItems: 'center', \r\n                        }}>\r\n                            {this.state.people && this.state.people.length > 0 && <img style={{height: '50%'}} src={this.state.people[0].user.photo_url}/>}\r\n                        </div>\r\n                    {console.log(this.state)}\r\n                    <FixedLayout vertical='bottom'>\r\n                        <Tabs>\r\n                            <TabsItem onClick={this.onClickNoLike}><Icon16Cancel width={28} height={28} /></TabsItem>\r\n                            <TabsItem>{this.state.people && this.state.people.length > 0 && <h1>{this.state.people[0].user.name}</h1>}</TabsItem>\r\n                            <TabsItem onClick={this.onClickLike}><Icon24Like width={28} height={28} /></TabsItem>\r\n                        </Tabs>\r\n                        {/* <Cell \r\n                            before={<Avatar size={60} onClick={() => console.log('clickkkkkk')}><Icon16Cancel fill=\"#fff\" width={28} height={28} /></Avatar>}\r\n                            asideContent={<Avatar size={60} ><Icon24Like fill=\"#fff\" width={28} height={28} /></Avatar>}\r\n                    >{this.state.people && this.state.people.length > 0 && <h1 style={{marginLeft: 'auto', marginRight: 'auto'}}>{this.state.people[this.state.currentIndex].user.name}</h1>}</Cell> */}\r\n                    </FixedLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tinder","import React from 'react'\r\nimport {View, Panel, PanelHeader, platform, IOS, Group, Cell, HeaderButton, List, Avatar, Button} from '@vkontakte/vkui'\r\n\r\nimport serverAddress from '../../ServerAddress'\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\n\r\nimport Bag from '../map/Bag'\r\n\r\nclass DetailOrder extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            order: null,\r\n            isLoaded: false,\r\n            bag: false,\r\n            activePanel: 'root'\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(serverAddress + '/api/v1/order/detailed?id=' + String(this.props.orderID), {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            this.setState({order: data, isLoaded: true})\r\n        })\r\n    }\r\n\r\n    checkNullBag = () => {\r\n        var a = fetch(serverAddress + '/api/v1/cart/view', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            if(data.length === 0) {\r\n                return false\r\n            } else {\r\n                return true\r\n            }\r\n        })\r\n        return a\r\n    }\r\n\r\n    addToBagItems = () => {\r\n        var a = this.checkNullBag()\r\n        if(a) {\r\n            return\r\n        }\r\n\r\n        this.state.order.menu_item.map((value, index) => {\r\n            var idItem = value.menu_item.id\r\n            fetch(serverAddress + '/api/v1/cart/push?menu_item_id=' + String(idItem), {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Povysh-Token': localStorage.getItem('token')\r\n                }\r\n            })\r\n        })\r\n\r\n        this.setState({activePanel: 'bag'})\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props)\r\n        if(this.state.activePanel === 'bag') {\r\n            return (\r\n                <Bag id={this.props.id} trackingOrder={() => {}} back={() => this.setState({activePanel: 'root' })}/>\r\n            )\r\n        }\r\n        if(!this.state.isLoaded) {\r\n            return (\r\n                <View id={this.props.id} activePanel='detailorder'>\r\n                <Panel id='detailorder'>\r\n                    <PanelHeader\r\n                        left={\r\n                            <HeaderButton onClick={this.props.back}>\r\n                              {platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                              \r\n                            </HeaderButton>\r\n                          }\r\n                    >\r\n                        Описание заказа\r\n                    </PanelHeader>\r\n                </Panel>\r\n            </View>\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel='detailorder'>\r\n                <Panel id='detailorder'>\r\n                    <PanelHeader\r\n                        left={\r\n                            <HeaderButton onClick={() => {console.log('clickkkkkkk'); this.props.back()}}>\r\n                              {platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                              \r\n                            </HeaderButton>\r\n                          }\r\n                    >\r\n                        Описание заказа\r\n                    </PanelHeader>\r\n                    <Group title='Основные детали заказа'>\r\n                        <Cell description={this.state.order.created_at}>Дата и время заказа</Cell>\r\n                        <Cell description={this.state.order.tracking}>Номер отслеживания заказа</Cell>\r\n                        <Cell description={this.state.order.status}>Статус заказа</Cell>\r\n                    </Group>\r\n                    {this.state.order.status === 0 &&\r\n                        <Group title='Отслеживание заказа'>\r\n\r\n                        </Group>\r\n                    }\r\n                    <Group title='Заказанные товары'>\r\n                        <List>\r\n                            {this.state.order.menu_item && this.state.order.menu_item.length > 0 && this.state.order.menu_item.map((value, index) => {\r\n                                return (\r\n                                    <Cell \r\n                                        before={<Avatar src={serverAddress + value.menu_item.photo_url} />}\r\n                                        description={value.menu_item.description}\r\n                                        asideContent={\r\n                                            <Button style={{width: '80px'}}\r\n                                            >{String(value.menu_item.price) + ' руб'}</Button>\r\n                                        }\r\n                                    >{value.menu_item.name}</Cell>\r\n                                )\r\n                            })}\r\n                        </List>\r\n                    </Group>\r\n                    <Button onClick={this.addToBagItems} size='xl'>Повторить заказ</Button>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DetailOrder","import React from 'react'\r\nimport {View, Panel, HeaderButton, PanelHeader, List, Cell} from '@vkontakte/vkui'\r\nimport connect from '@vkontakte/vk-connect'\r\n\r\nimport serverAddress from '../../ServerAddress'\r\n\r\nimport DetailOrder from './DetailOrder'\r\n\r\nclass Order extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activePanel: 'mainorder',\r\n            count: 0,\r\n            coord: '',\r\n            data: [],\r\n            orderID: -1\r\n        }\r\n\r\n        this.tarcking = this.tarcking.bind(this)\r\n    }\r\n\r\n    async tarcking() {\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        this.tarcking()\r\n        fetch(serverAddress + '/api/v1/users/orders', {\r\n            mathod: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            this.setState({data: data})\r\n            console.log(data)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        console.log('order')\r\n        if(this.state.activePanel === 'detailorder') {\r\n            return (\r\n                <DetailOrder id='detailorder' orderID={this.state.orderID} back={() => {console.log('lox'); this.setState({activePanel: 'mainorder'})}} />\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel={this.state.activePanel}>\r\n                <Panel id='mainorder'>\r\n                    <PanelHeader>\r\n                        Orders\r\n                    </PanelHeader>\r\n                    <List>\r\n                        {this.state.data && this.state.data.length > 0 && this.state.data.map((value, index) => {\r\n                            return (\r\n                                <Cell \r\n                                    key={index}\r\n                                    description={'дата ' + value.created_at}\r\n                                    onClick={() => this.setState({orderID: value.id, activePanel: 'detailorder'})}\r\n                                >{value.tracking}</Cell>\r\n                            )\r\n                        })}\r\n                    </List>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Order","import React from 'react'\r\nimport connect from '@vkontakte/vk-connect'\r\n\r\nimport {View, Panel, Group, Cell, List} from '@vkontakte/vkui'\r\n\r\nimport serverAddress from '../../ServerAddress'\r\nimport Menu from '../map/Menu'\r\nimport SelectRest from '../map/SelectRest'\r\n\r\nclass FastOrder extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            rests: [],\r\n            foodCourts: [],\r\n            activePanel: 'fastroot',\r\n            restsID: [],\r\n            myrests: []\r\n        }\r\n    }\r\n\r\n    myrests = []\r\n\r\n    componentDidMount() {\r\n        var coords = [0, 0]\r\n        connect.sendPromise('VKWebAppGetGeodata')\r\n            .then((data) => {\r\n                coords = [data.lat, data.long]\r\n                fetch(serverAddress + '/api/v1/places/raw_around?lat=' + String(coords[0]) + '&lon=' + String(coords[1])  + '&radius=10', {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        'Povysh-Token': localStorage.getItem('token')\r\n                    }\r\n                }).then((data) => {\r\n                    return data.json()\r\n                }).then((data) => {\r\n                    this.setState({rests: data.kek})\r\n                })\r\n        \r\n                fetch(serverAddress + '/api/v1/places/footcourts_around?lat=' + String(coords[0]) + '&lon=' + String(coords[1])  + '&radius=1000', {\r\n                    method: 'GET',\r\n                    headers: {\r\n                        'Povysh-Token': localStorage.getItem('token')\r\n                    }\r\n                }).then((data) => {\r\n                    return data.json()\r\n                }).then((data) => {\r\n                    this.setState({foodCourts: data})\r\n                    console.log(data)\r\n                })\r\n            })\r\n            .catch((error) => {\r\n                console.log(error)\r\n            })\r\n        \r\n    }\r\n\r\n    getRestaraunts(id) {\r\n        var res = []\r\n        fetch(serverAddress + '/api/v1/places/foodcourt_rests?foodcourt_id=' + String(id), {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            console.log(data)\r\n            this.myrests = data\r\n        })\r\n        return res\r\n    }\r\n\r\n    render() {\r\n        console.log(this.state)\r\n        if(this.state.activePanel === 'menu') {\r\n            return (\r\n                <Menu \r\n                    trackingOrder={this.props.trackingOrder} \r\n                    id='menu' \r\n                    restsID={[this.state.id]} \r\n                    back={() => this.setState({activePanel: 'fastroot'})} />\r\n            )\r\n        }\r\n        if(this.state.activePanel === 'selectRests') {\r\n            console.log(this.state)\r\n            var res = this.getRestaraunts(this.state.id)\r\n            console.log(this.myrests)\r\n            return (\r\n                <SelectRest \r\n                    id='selectRest' \r\n                    trackingOrder={this.props.trackingOrder}\r\n                    foodCourtID={this.state.id}\r\n                    rests={this.state.myrests}\r\n                    back={() => this.setState({activePanel: 'fastroot'})}\r\n                />\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel='mainFastOrder'>\r\n                <Panel id='mainFastOrder'>\r\n                    <Group title='Ближайшие рестораны'>\r\n                        <List>\r\n                            {this.state.rests && this.state.rests.length > 0 && this.state.rests.map((value, index) => {\r\n                                return(<Cell onClick={() => {\r\n                                    this.setState({activePanel: 'menu', id: value.id})\r\n                                }}>{value.name}</Cell>)\r\n                            })}\r\n                        </List>\r\n                    </Group>\r\n                    <Group title='Ближайшие фудкорты'>\r\n                        <List>\r\n                            {this.state.foodCourts && this.state.foodCourts.length > 0 && this.state.foodCourts.map((value, index) => {\r\n                                console.log(value)\r\n                                return(<Cell onClick={() =>{\r\n                                    this.setState({activePanel: 'selectRests', id: value.id, myrests: value.restaraunts })\r\n                                }}>{value.name}</Cell>)\r\n                            })}\r\n                        </List>\r\n                    </Group>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FastOrder","import React from 'react'\nimport {Panel, Epic, Tabbar, TabbarItem, View, PanelHeader} from '@vkontakte/vkui';\n\nimport Icon24Place from '@vkontakte/icons/dist/24/place';\nimport Icon24Recent from '@vkontakte/icons/dist/24/recent';\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\nimport Icon24Market from '@vkontakte/icons/dist/24/market';\n\nimport Settings from './settings/Settings'\nimport Mymap from './map/Mymap'\nimport Tinder from './tinder/Tinder'\nimport Order from './Order/Order'\nimport FastOrder from './FastOrder/FastOrder'\n\nimport serverAddress from '../ServerAddress'\n\nclass Start extends React.Component {\n    flag_name = true\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            id: props.id,\n            activeStory: 'map',\n            activePanel: 'epic',\n            idRest: null\n        }\n        this.onStoryChange = this.onStoryChange.bind(this);\n    }\n\n    onStoryChange(e) {\n        this.setState({ activeStory: e.currentTarget.dataset.story })\n    }\n\n    viewChange = (viewID) => {\n        this.setState({activeStory: viewID})\n    }\n\n    trackingOrder = (orderID) => {\n        console.log(orderID)\n        this.setState({orderID: orderID, activeStory: 'myorder'})\n    }\n\n    render() {\n        return (\n            <Epic id='epic' activeStory={this.state.activeStory} tabbar={\n                <Tabbar>\n                    <TabbarItem\n                        key='map'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'map'}\n                        data-story='map'\n                        text={this.flag_name ? 'Map' : null }\n                    ><Icon24Place/></TabbarItem>\n                    <TabbarItem\n                        key='quick'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'quick'}\n                        data-story='quick'\n                        text={this.flag_name ? 'Quick' : null}\n                    ><Icon24Recent/> </TabbarItem>\n                    <TabbarItem\n                        key='tinder'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'tinder'}\n                        data-story='tinder'\n                        text={this.flag_name ? 'Tinder' : null }\n                    ><Icon24Like/> </TabbarItem>\n                    <TabbarItem \n                        key='myorder'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'myorder'}\n                        data-story='myorder'\n                        text={this.flag_name ? 'Orders' : null}\n                    >\n                        <Icon24Market/>\n                    </TabbarItem>\n                    {/* <TabbarItem\n                        key='settings'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'settings'}\n                        data-story='settings'\n                        text={this.flag_name ? 'Settings' : null }\n                    ><Icon24Settings/> </TabbarItem> */}\n                </Tabbar>\n                }>\n                <Mymap id='map' viewChange={this.viewChange} trackingOrder={this.trackingOrder}/>\n                \n                <FastOrder trackingOrder={this.trackingOrder} id='quick' />\n                <Tinder id='tinder' />\n                <Order id='myorder' orderID={this.state.orderID}/>\n                <View id='settings' activePanel='settings'>\n                    <Panel id='settings'>\n                        <Settings />\n                    </Panel>\n                </View>\n                \n                {/* <View id='basket' activePanel='basket'>\n                    <Panel id='basket'>\n                        Basket\n                    </Panel>\n                </View> */}\n            </Epic>\n        )\n    }\n}\n\nexport default Start","import React from 'react'\r\nimport {View, Panel, Button, Gallery, FixedLayout, Tabs, TabsItem} from '@vkontakte/vkui'\r\n\r\n\r\nclass FirstLogin extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View header={false} activePanel='main'>\r\n                <Panel id='main'>\r\n                    <div style={{\r\n                        display: 'flex', \r\n                        flexDirection: 'column',\r\n                        justifyContent: 'center',\r\n                        height: '80vh',\r\n                        alignItems: 'center', \r\n                    }}>\r\n                        <div style={{height: '100%', width: '100%'}}>\r\n                            <Gallery\r\n                                slideWidth='100%'\r\n                                style={{height: '100%', width: '100%'}}\r\n                                bullets=\"dark\"\r\n                            >\r\n                                <div>Hello</div>\r\n                                <div>Hi</div>\r\n                                <div>H</div>\r\n                            </Gallery>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <FixedLayout vertical='bottom'>\r\n                        <Tabs>\r\n                            <TabsItem onClick={this.props.closeThis}>Начать использовать</TabsItem>\r\n                        </Tabs>\r\n                    </FixedLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FirstLogin","import React from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport {Panel, Alert, ScreenSpinner, View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Start from './panels/Start'\nimport Requests from './Requests/Requests'\n\nimport serverAddress from './ServerAddress'\n\nimport FirstLogin from './FirstLogin'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'black',\n\t\t\tfetchedUser: null,\n\t\t\ttoken: null,\n\t\t\tmytoken: null,\n\t\t\tpopout: <ScreenSpinner />,\n\t\t\ttest: 'fail',\n\t\t\tfirstLogin: false,\n\t\t\terrorAuth: false,\n\t\t\tblackPanel: false,\n\t\t\tblackText: ''\n\t\t};\n\t}\n\n\t tryGet(id) {\n\t\tfetch(serverAddress + '/api/v1/users/from_vk_id?id=' + id, {\n\t\t\t\tmethod: \"GET\"\n\t\t\t}).then((data) => {\n\t\t\t\treturn data.json()\n\t\t\t}).then((data) => {\n\t\t\t\tlocalStorage.setItem('token', data.token)\n\t\t\t\tthis.setState({id: id, mytoken: data.token, activePanel: 'start', popout: null, errorAuth: false, blackPanel: false, firstLogin: data.is_new})\n\t\t\t})\n\t}\n\n\tcomponentDidMount() {\n\t\tvar myState = localStorage.getItem('mapState')\n\t\tif(myState !== null) {\n\t\t\tmyState = JSON.parse(myState)\n\t\t\tmyState = {switchRest: myState.switchRest, map: null}\n\t\t\tlocalStorage.setItem('mapState', JSON.stringify(myState))\n\t\t}\n\n\t\tconnect.sendPromise('VKWebAppGetUserInfo')\n\t\t\t.then((data) => {\n\t\t\t\tthis.tryGet(data.id)\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.log(error)\n\t\t\t\tthis.setState({errorAuth: true})\n\t\t\t})\n\t\t\n\t\t// connect.subscribe((e) => {\n\t\t// \tswitch (e.detail.type) {\n\t\t// \t\tcase 'VKWebAppGetUserInfoResult':\n\t\t// \t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t// \t\t\tbreak;\n\t\t// \t\tdefault:\n\t\t// \t\t\tconsole.log(e.detail.type);\n\t\t// \t}\n\t\t// });\n\t\t// connect.send('VKWebAppGetUserInfo', {});\n\n\t\t// connect.send('VKWebAppGetAuthToken', {\"app_id\": 7150406, \"scope\": \"\"})\n        // var token = null\n        // connect.subscribe((e) => {\n        //     switch (e.detail.type) {\n\t\t// \t\tcase 'VKWebAppAccessTokenReceived':\n\t\t// \t\t\ttoken = e.detail.data.access_token\n\t\t// \t\t\tthis.setState({blackText: token})\n\t\t// \t\t\tthis.tryGet(token)\n\t\t// \t\t\tsetTimeout(() => {\n\t\t// \t\t\t\tif(this.state.activePanel !== 'start') {\n\t\t// \t\t\t\t\tthis.setState({errorAuth: true})}}\n\t\t// \t\t\t\t\t, 50000)\n\t\t// \t\t\tbreak;\n\t\t// \t\tcase 'VKWebAppAccessTokenFailed':\n\t\t// \t\t\tconsole.log('error connect Vk')\n\t\t// \t\t\tthis.setState({errorAuth: true})\n\t\t// \t\t\tbreak;\n\t\t// \t\tdefault:\n\t\t\t\t\t\n\t\t// \t}\n\t\t// })\n\t\t// var token = null\n\t\t// console.log('start')\n\t\t// connect.send('VKWebAppGetAuthToken', {\"app_id\": 7150406, \"scope\": \"\"})\n\t\t// connect.subscribe((e) => {\n\n\t\t// \t.then((data)=> {\t\n\t\t// \t\ttoken = data.access_token\n\t\t// \t\tthis.tryGet(token)\n\t\t// \t\tconsole.log(data)\n\t\t// \t\tsetTimeout(() => {\n\t\t// \t\t\tif(this.state.activePanel !== 'start') {\n\t\t// \t\t\t\tthis.setState({errorAuth: true})}}\n\t\t// \t\t\t\t, 50000)\n\t\t// \t})\n\t\t// \t.catch((error) => {\n\t\t// \t\tthis.setState({errorAuth: true})\n\t\t// \t})\n\t}\n\n\tallertPopout = () => {\n\t\tthis.setState({errorAuth: true})\n\t\treturn (\n\t\t\t<Alert\n\t\t\t\tactions={[{\n\t\t\t\t\ttitle: 'Ok',\n\t\t\t\t\tautoclose: true,\n\t\t\t\t\tstyle: 'default'\n\t\t\t\t}]}\n\t\t\t\tonClose={this.closePopout}\n\t\t\t>\n\t\t\t\t<h2>Произошла ошибка при авторизации</h2>\n\t\t\t\t<h2>Повторите попытку позже</h2>\n\t\t\t</Alert>\n\t\t)\n\t}\n\n\tclosePopout = () => {\n\t\tconsole.log('test')\n\t\tthis.setState({popout: <ScreenSpinner />})\n\t}\n\n\n\trender() {\n\t\tconsole.log(this.state)\n\t\ttry {\n\t\t\tif (this.state.firstLogin) {\n\t\t\t\tconsole.log('firstLogin')\n\t\t\t\treturn (\n\t\t\t\t\t<FirstLogin closeThis={() => this.setState({firstLogin: false})} />\n\t\t\t\t)\n\t\t\t}\n\t\t\telse if (this.state.errorAuth) {\n\t\t\t\tconsole.log('errorAuth')\n\t\t\t\treturn (\n\t\t\t\t\t\t<Panel id='error'>\n\t\t\t\t\t\t\tПроизошла ошибка при авторизации\n\t\t\t\t\t\t</Panel>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse if (this.state.blackPanel) {\n\t\t\t\treturn (\n\t\t\t\t\t<View id='blackview' activePanel='panel' popout={<ScreenSpinner/>}>\n\t\t\t\t\t\t<Panel id='black'>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</View>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<Start id='start'/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tcatch {\n\t\t\treturn (\n\t\t\t\t<View activePanel='bug'>\n\t\t\t\t\t<Panel id='bug'>\n\t\t\t\t\t\tЭто не баг, это фича\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t)\n\t\t}\n\t\t\n\t}\n}\n\nexport default App;\n","import React from 'react'\r\n\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            hasError: false\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {\r\n        return {hasError: true}\r\n    }\r\n\r\n    componentDidCatch(error, info) {\r\n        //logErrorToMyService(error, info)\r\n    }\r\n\r\n    render() {\r\n        if(this.state.hasError) {\r\n            return (\r\n                <h1>Это не баг, это фича</h1>\r\n            )\r\n        }\r\n        return (\r\n            this.props.children\r\n        )\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\nimport ErrorBoundary from './ErrorBoundary'\n// import registerServiceWorker from './sw';\n\n// Init VK App\n\nconnect.subscribe((e) => {\n    switch (e.detail.type) {\n        case 'VKWebAppUpdateConfig':\n            let schemeAttribute = document.createAttribute('scheme');\n            schemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'client_light';\n            document.body.attributes.setNamedItem(schemeAttribute);\n            break;\n \n        default:\n            //console.log(e.detail.type);\n    }\n });\n\nconnect.sendPromise('VKWebAppInit')\n .then((date) => console.log(date))\n .catch((error) => console.log(error))\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<ErrorBoundary><App /></ErrorBoundary> , document.getElementById('root'));\n"],"sourceRoot":""}