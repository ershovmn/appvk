{"version":3,"sources":["panels/settings/Settings.js","ServerAddress.js","panels/map/Bag.js","panels/map/Menu.js","panels/map/SelectRest.js","panels/map/Mymap.js","panels/tinder/Tinder.js","panels/Order/Order.js","panels/FastOrder/FastOrder.js","panels/Start.js","FirstLogin.js","App.js","index.js"],"names":["Settings","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","fetchedUser","_this2","connect","subscribe","e","detail","type","setState","data","console","log","send","localStorage","getItem","react_default","a","createElement","es6","title","before","photo_200","src","description","city","concat","first_name","last_name","onClick","data-to","React","Component","ServerAddress","Bag","onRefresh","fetching","getBag","fetch","serverAddress","method","headers","Povysh-Token","then","json","price","map","value","menu_item","items","pay","app_id","action","params","orderID","tracking","props","trackingOrder","bind","assertThisInitialized","id","activePanel","isFetching","left","back","platform","IOS","chevron_back_default","back_default","length","index","size","photo_url","name","vertical","String","Menu","getRestsID","str","restsID","i","addToCart","_ref","is_saved","openBase","snackbar","layout","onClose","done_default","fill","width","height","clearBag","bag","categories","currentCategory","categoriesID","menu_category","indexOf","push","_unused","restaraunt_id","_this3","style","map_Bag","key","selected","marginLeft","asideContent","SelectRest","updateArrray","array","rests","checked","map_Menu","selectable","Mymap","restaurants","coord","code","rest","url","foodCourts","onBoundsChange","center","getCenter","zoom","getZoom","onKeyPressed","displayList","displayMap","getIdRestsOnFoodCourt","res","restaraunts","item","mode","contextOpened","switchRest","go","modals","activeModal","modalHistory","search","restrictMapArea","filters","cuisine","price_tag","switchClick","openModal","modalBack","setActiveModal","myState","coords","sendPromise","lat","long","JSONmyState","JSON","parse","bounds","_unused2","_unused3","_unused4","_unused5","setItem","stringify","Number","currentTarget","dataset","modal","caption","address","actions","header","right","_24_done_default","defaultChecked","map_SelectRest","foodCourtID","overflow","theme","onChange","onFocus","onBlur","onKeyDown","tabIndex","display","str1","toLowerCase","str2","expandable","latitude","longitude","react_yandex_maps_esm","options","instanceRef","preset","price_rating","geometry","properties","iconContent","position","bottom","Tinder","fisrt","sex","marginRight","like_default","Order","count","tarcking","FastOrder","lan","catch","error","Start","flag_name","viewChange","viewID","activeStory","idRest","onStoryChange","story","tabbar","data-story","text","place_default","recent_default","market_default","settings_default","map_Mymap","panels_FastOrder_FastOrder","tinder_Tinder","panels_Order_Order","settings_Settings","FirstLogin","justifyContent","alignItems","slideWidth","bullets","closeThis","App","allertPopout","errorAuth","autoclose","closePopout","popout","token","mytoken","test","firstLogin","blackPanel","blackText","is_new","scope","access_token","tryGet","setTimeout","_this4","src_FirstLogin","panels_Start","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","date","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.eb76752d.chunk.js","sourcesContent":["import React from 'react'\n\nimport connect from '@vkontakte/vkui-connect';\nimport {ListItem, Group, Avatar, PanelHeader, CellButton } from '@vkontakte/vkui';\n\nclass Settings extends React.Component {\n    constructor() {\n        super() \n        this.state = {\n            fetchedUser: null\n        }\n    }\n\n    componentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n    }\n    \n    render() {\n        console.log(localStorage.getItem('mapState'))\n        return (\n            <div>\n                <PanelHeader>Settings</PanelHeader>\n                {this.state.fetchedUser &&\n                <Group title=\"User Data Fetched with VK Connect\">\n                    <ListItem\n                        before={this.state.fetchedUser.photo_200 ? <Avatar src={this.state.fetchedUser.photo_200}/> : null}\n                        description={this.state.fetchedUser.city && this.state.fetchedUser.city.title ? this.state.fetchedUser.city.title : ''}\n                    >\n                        {`${this.state.fetchedUser.first_name} ${this.state.fetchedUser.last_name}`}\n                    </ListItem>\n                </Group>}\n                <Group>\n                    <CellButton onClick={console.log('tap')} data-to='tinder'>\n                        Tinder\n                    </CellButton>\n                    <CellButton onClick={console.log('tap')} data-to='tinder'>\n                        Tinder\n                    </CellButton>\n                </Group>\n            </div>\n        )\n    }\n}\n\nexport default Settings","export default 'https://170e4f1c.ngrok.io'","import React from 'react'\r\n\r\nimport {View, Panel, PanelHeader, platform, IOS, HeaderButton, List, Cell, Avatar, Tabs, TabsItem, FixedLayout, PullToRefresh} from '@vkontakte/vkui'\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\n\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nimport serverAddress from '../../ServerAddress'\r\n\r\nclass Bag extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            items: [],\r\n            price: 0,\r\n            fetching: false\r\n        }\r\n\r\n        this.getBag = this.getBag.bind(this)\r\n        this.onRefresh = this.onRefresh.bind(this)\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.setState({fetching: true})\r\n        this.getBag()\r\n    }\r\n\r\n    getBag = () => {\r\n        fetch(serverAddress + '/api/v1/cart/view', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            var price = 0\r\n            console.log(data)\r\n            data.map((value) =>{\r\n                price += value.menu_item.price\r\n            })\r\n            console.log(price)\r\n            this.setState({items: data, price: price, fetching: false})\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getBag()\r\n    }\r\n\r\n    pay = () => {\r\n        connect.send('VKWebAppOpenPayForm', {app_id: 7150406, action: 'pay-to-service', params: {}})\r\n        fetch(serverAddress + '/api/v1/cart/complete', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            var orderID = data.tracking\r\n            console.log(data)\r\n            this.props.trackingOrder(orderID)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View id={this.props.id} activePanel='mainBag'>\r\n                <Panel id='mainBag'>\r\n                    <PullToRefresh onRefresh={this.onRefresh} isFetching={this.state.fetching}>\r\n                        <PanelHeader\r\n                            left={\r\n                                <HeaderButton onClick={this.props.back}>\r\n                                    {platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                                </HeaderButton>\r\n                            }\r\n                        >\r\n                            Bag\r\n                        </PanelHeader>\r\n                        \r\n                        <List>\r\n                            {this.state.items && this.state.items.length > 0 && this.state.items.map((value, index) => {\r\n                                return (\r\n                                    <Cell\r\n                                        before={<Avatar size={64} src={serverAddress + value.menu_item.photo_url } />}\r\n                                        description={value.menu_item.description}\r\n                                    >\r\n                                        {value.menu_item.name}\r\n                                    </Cell>\r\n                                )\r\n                            })\r\n                            \r\n                            }\r\n                        </List>\r\n                    \r\n                        <FixedLayout vertical='bottom'>\r\n                            <Tabs>\r\n                                <TabsItem onClick={this.pay}>\r\n                                    {'Оплатить: ' + String(this.state.price) + ' руб'}\r\n                                </TabsItem>\r\n                            </Tabs>\r\n                        </FixedLayout>\r\n                    </PullToRefresh>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\nexport default Bag","import React from 'react'\r\n\r\nimport {PanelHeader, View, Panel, HorizontalScroll, TabsItem, Tabs, List, Cell, Avatar, HeaderButton, platform, IOS, Button, Snackbar, FixedLayout, Alert} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\n\r\nimport Bag from './Bag'\r\nimport { timingSafeEqual } from 'crypto';\r\n\r\nimport serverAddress from '../../ServerAddress'\r\n\r\nclass Menu extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activePanel: 'mainMenu',\r\n            categories: [],\r\n            items: [],\r\n            currentCategory: -1,\r\n            snackbar: null,\r\n            bag: false\r\n        }\r\n\r\n        this.openBase = this.openBase.bind(this)\r\n    }\r\n\r\n    getRestsID = () => {\r\n        var str = String(this.props.restsID[0])\r\n        for(var i = 1; i < this.props.restsID.length; i++) {\r\n            str += ',' + String(this.props.restsID[i])\r\n        }\r\n        return str\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(serverAddress + '/api/v1/places/food?restaurant_id=' + this.getRestsID(), {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            try {\r\n                this.setState({items: data})\r\n                var categories = []\r\n                var categoriesID = []\r\n                this.state.items.map((value) => {\r\n                    console.log(value.menu_category)\r\n                    if(categoriesID.indexOf(value.menu_category.id) === -1) {\r\n                        categories.push(value.menu_category)\r\n                        categoriesID.push(value.menu_category.id)\r\n                    }\r\n                })\r\n                this.setState({categories: categories})\r\n                if(this.state.categories && this.state.categories.length > 0) {\r\n                    this.setState({currentCategory: this.state.categories[0].id})\r\n                }\r\n            } catch { } \r\n        })\r\n        fetch(serverAddress + '/api/v1/cart/view', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            if(data.length > 0 && this.props.restsID.indexOf(data[0].menu_item.restaraunt_id) === -1) {\r\n                this.setState({bag: true})\r\n            }\r\n        })\r\n    }\r\n\r\n    addToCart = ({id, name}) => {\r\n        fetch(serverAddress + '/api/v1/cart/push?menu_item_id=' + String(id), {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            if(data.is_saved) {\r\n                this.openBase(name)\r\n            }\r\n        })\r\n    }\r\n\r\n    openBase = (name) => {\r\n        if (this.state.snackbar) return;\r\n        this.setState({ snackbar:\r\n            <Snackbar\r\n                layout=\"vertical\"\r\n                onClose={() => this.setState({ snackbar: null })}\r\n                before={<Avatar size={24} ><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n            >\r\n                {name + ' добавлен в корзину'}\r\n            </Snackbar>\r\n        })\r\n    }\r\n\r\n    clearBag = () => {\r\n        fetch(serverAddress + '/api/v1/cart/clean', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        })\r\n        this.setState({bag: false})\r\n    }\r\n\r\n    render() {\r\n        if(this.state.bag) {\r\n            return (\r\n                    <Panel id='mainError'>\r\n                        <div style={{height: '50px'}}></div>\r\n                        <p>У вас в корзине что-то есть, очистить её и продолжить?</p> \r\n                        <Button onClick={this.clearBag} size='xl'>Да</Button>\r\n                        <p></p>\r\n                        <Button onClick={() => this.setState({bag: false, activePanel: 'bag'})} size='xl'>Нет, перейти в корзину</Button>\r\n                    </Panel>\r\n            )\r\n        }\r\n        if(this.state.activePanel === 'bag') {\r\n            return (\r\n                <Bag id={this.props.id} trackingOrder={this.props.trackingOrder} back={() => this.setState({activePanel: 'mainMenu' })} />\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel={this.state.activePanel}>\r\n                <Panel id='mainMenu'>\r\n                    <PanelHeader\r\n                        left={\r\n                            <HeaderButton onClick={this.props.back}>\r\n                              {platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                              \r\n                            </HeaderButton>\r\n                        }\r\n                    >\r\n                        Menu\r\n                    </PanelHeader>\r\n                    <Tabs type=\"buttons\">\r\n                        <HorizontalScroll>\r\n                            {this.state.categories.length > 0 && this.state.categories.map((value, index) => {\r\n                                return (\r\n                                    <TabsItem\r\n                                        key={index}\r\n                                        onClick={() => this.setState({currentCategory: value.id})}\r\n                                        selected={this.state.currentCategory === value.id}\r\n                                        style={{marginLeft: '10px'}}\r\n                                    >\r\n                                        {value.name}\r\n                                    </TabsItem>\r\n                                )\r\n                            })}\r\n                        </HorizontalScroll>\r\n                    </Tabs>\r\n                    <List>\r\n                        {this.state.items && this.state.items.length > 0 && this.state.items.map((value, index) => {\r\n                            if(value.menu_category.id !== this.state.currentCategory) {\r\n                                return null\r\n                            }\r\n                            return (\r\n                                <Cell\r\n                                    before={<Avatar src={serverAddress + value.photo_url} />}\r\n                                    description={value.description}\r\n                                    asideContent={\r\n                                        <Button \r\n                                            onClick={() => {\r\n                                                this.addToCart({id: value.id, name: value.name})\r\n                                                \r\n                                            }}\r\n                                            style={{width: '80px'}}\r\n                                        >{String(value.price) + ' руб'}</Button>\r\n                                    }\r\n                                >\r\n                                    {value.name}\r\n                                </Cell>\r\n                            )\r\n                        })\r\n                        \r\n                        }\r\n                    </List>\r\n\r\n                    <FixedLayout vertical='bottom'>\r\n                        <Tabs>\r\n                            <TabsItem onClick={() => {\r\n                            this.setState({activePanel: 'bag'})\r\n                        }}>Перейти к корзине</TabsItem>\r\n                        </Tabs>\r\n                    </FixedLayout>\r\n                    {this.state.snackbar} \r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Menu","import React from 'react'\r\n\r\nimport {View, Panel, PanelHeader, HeaderButton, platform, IOS, List, Cell, FixedLayout, Button} from '@vkontakte/vkui'\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\nimport { throws } from 'assert';\r\n\r\nimport serverAddress from '../../ServerAddress'\r\n\r\nimport Menu from './Menu'\r\n\r\nclass SelectRest extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            checked: [],\r\n            activePanel: 'mainSelectRest',\r\n            restsID: []\r\n        }\r\n\r\n        this.updateArrray = this.updateArrray.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        var array = []\r\n        this.props.rests.map(() => {\r\n            array.push(false)\r\n        })\r\n        this.setState({checked: array})\r\n    }\r\n\r\n    updateArrray = () => {\r\n        var array = []\r\n        this.props.rests.map(() => {\r\n            array.push(false)\r\n        })\r\n        this.setState({checked: array})\r\n    }\r\n\r\n    render() {\r\n        if(this.state.activePanel === 'menu') {\r\n            return (\r\n                <Menu id={this.props.id} trackingOrder={this.props.trackingOrder} restsID={this.state.restsID} back={() => {this.setState({activePanel: 'mainSelectRest'}); this.updateArrray()}} />\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel='mainSelectRest'>\r\n                <Panel id='mainSelectRest'>\r\n                    <PanelHeader\r\n                        left={\r\n                            <HeaderButton onClick={this.props.back}>\r\n                              {platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                              \r\n                            </HeaderButton>\r\n                          }\r\n                    >\r\n                        Select Rest\r\n                    </PanelHeader>\r\n                    <List>\r\n                        {this.props.rests.map((value, index) => {\r\n                            return (\r\n                                <Cell \r\n                                    selectable\r\n                                    onClick={() => {\r\n                                        var array = this.state.checked\r\n                                        array[index] = !array[index]\r\n                                        this.setState({checked: array})\r\n                                    }}\r\n                                >{value.name}</Cell>\r\n                            )\r\n                        })}\r\n                    </List>\r\n                    <FixedLayout vertical='bottom'>\r\n                        <Button size='xl' onClick={() => {\r\n                            var array = []\r\n                            this.state.checked.map((value, index) => {\r\n                                if(value) {\r\n                                    array.push(this.props.rests[index].id)\r\n                                }\r\n                            })\r\n                            this.setState({restsID: array, activePanel: 'menu'})\r\n                        }}>\r\n                            Продолжить\r\n                        </Button>\r\n                    </FixedLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SelectRest","import React from 'react'\nimport {PanelHeader, View, Panel, Search,  ModalCard, ModalRoot, ModalPage, ModalPageHeader, platform, IOS, HeaderButton, Group, Select } from '@vkontakte/vkui';\nimport {List, Cell, Switch} from '@vkontakte/vkui';\nimport {YMaps, Map, GeolocationControl, Clusterer, Placemark} from 'react-yandex-maps'\nimport connect from '@vkontakte/vk-connect';\n\nimport Menu from './Menu'\nimport SelectRest from './SelectRest'\n\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport serverAddress from '../../ServerAddress'\n\n\nclass Mymap extends React.Component {\n    restaurants = [\n        {coord: [55.70, 37.60], code: 0, id: 12345},\n        {coord: [55.70, 37.61], code: 1, id: 82936},\n        {coord: [55.70, 37.62], code: 2, id: 12761},\n        {coord: [55.50, 37.60], code: 0, id: 18235},\n        {coord: [55.80, 37.31], code: 1, id: 11813},\n        {coord: [55.50, 36.92], code: 2, id: 16381},\n        {coord: [55.90, 35.60], code: 0, id: 12936},\n    ]\n\n    map = null\n\n    rest = [\n        {name: 'Macdonalds', id: 0, url: 'https://www.pinclipart.com/picdir/middle/113-1137531_mcdonalds-logo-transparent-png-mcdonalds-logo-png-clipart.png'},\n        {name: 'KFC', id: 1, url: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRjI-yxfVTMbNT6ogrdOVoKeaL3UG5zbtgWLWPZqtBs8yGJbWx9'},\n        {name: 'BurgerKing', id: 2, url: 'https://cdn.imgbin.com/12/7/6/imgbin-hamburger-whopper-french-fries-burger-king-chicken-sandwich-burger-king-kGm4a8Unj0yht3gTpGYpkHedg.jpg'}\n    ]\n\n    foodCourts = [\n        {coord: [56.00, 37.60], restaurants: [0, 1, 2], id: 1243},\n        {coord: [56.20, 37.60], restaurants: [0, 1, 2], id: 4357},\n    ]\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            activePanel: 'map',\n            restaurants: this.restaurants,\n            map: {center: [56.00, 37.60], zoom: 14},\n            id: props.id,\n            mode: 'all',\n            contextOpened: false,\n            switchRest:[true, true, true],\n            rest: this.rest,\n            foodCourts: [],\n            go: this.props.go,\n            modals: {\n                activeModal: null,\n                modalHistory: [],\n                data: {\n                    type: null,\n                    id: null,\n                    title: null,\n                    rests: []\n                }\n            },\n            search: '',\n            displayMap: 'block',\n            displayList: 'none',\n            restrictMapArea: [[0, 0], [60, 60]],\n            rests: [],\n            filters: [],\n            cuisine: [\n                {id: 1, checked: true},\n                {id: 2, checked: true},\n                {id: 3, checked: true},\n            ],\n            price_tag: [\n                true,\n                true,\n                true,\n                true\n            ]\n        }\n\n        //this.select = this.select.bind(this)\n        this.switchClick = this.switchClick.bind(this)\n        this.openModal = this.openModal.bind(this)\n\n        this.modalBack = () => {\n            this.setActiveModal(this.state.modals.modalHistory[this.state.modals.modalHistory.length - 2])\n        }\n    }\n\n    onBoundsChange = () => {\n        try {\n            this.setState({\n                map: {\n                    center: this.map.getCenter(),\n                    zoom: this.map.getZoom()\n                }\n            })\n            //localStorage.setItem('mapState', JSON.stringify(this.state))\n        }\n        catch{\n\n        }\n    }\n\n    componentDidMount() {\n        var myState = localStorage.getItem('mapState')\n        console.log(myState)\n        var coords = [59.9339453, 30.302315699999994]\n\n        connect.sendPromise(\"VKWebAppGetGeodata\")\n            .then((data) => {\n                console.log(data)\n                coords = [data.lat, data.long]\n                this.setState({map: {center: coords, zoom: '13'}})\n            })\n\n        // navigator.geolocation.getCurrentPosition((position) => {\n        //     console.log('geolocation')\n        //     coords = [position.coords.latitude, position.coords.longitude]\n        // })\n        if(myState !== null) {\n            var JSONmyState = JSON.parse(myState)\n            var switchRest = JSONmyState.switchRest\n            if(JSONmyState.map === null) {\n                //JSONmyState.map = {center: [0, 0], zoom: 14}\n                console.log(switchRest)\n                JSONmyState = {\n                    map: {center: coords, switchRest: switchRest}\n                }\n                this.setState(JSONmyState)\n            }\n            else{\n                this.setState(JSONmyState)\n            }\n        }\n        else {\n            console.log('elese')\n            var JSONmyState = {\n                map: {\n                    center: coords,\n                    zoom: 14\n                }\n            }\n            this.setState(JSONmyState)\n        }\n        // this.setState({map: {\n        //     center: coords,\n        //     zoom: this.state.zoom\n        // }})\n        console.log(localStorage.getItem('token'))\n        fetch(serverAddress + '/api/v1/utilities/bounds?lat=' + String(coords[0]) + '&lon=' + String(coords[1]), {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                var bounds = data.bounds\n                this.setState({restrictMapArea: [[bounds[0], bounds[1]], [bounds[2], bounds[3]]]})\n            } catch { } \n        })\n        fetch(serverAddress + '/api/v1/places/around?lat=' + String(coords[0]) + '&lon=' + String(coords[1]) + '&radius=10', {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                var rests = data\n                this.setState({rests: rests})\n            } catch { } \n        })\n        fetch(serverAddress + '/api/v1/utilities/filters', {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                this.setState({filters: data})\n            } catch {}\n        })\n\n        fetch(serverAddress + '/api/v1/places/footcourts_around?lat=' + String(coords[0]) + '&lon=' + String(coords[1]) + '&radius=10', {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                this.setState({foodCourts: data})\n            }\n            catch {}\n        })\n    }\n\n    componentDidUpdate() {\n        var JSONmyState= {map: this.state.map, switchRest: this.state.switchRest}\n        //console.log(localStorage.getItem('token'))\n        localStorage.setItem('mapState', JSON.stringify(JSONmyState))\n    }\n    \n    switchClick(e) {\n        var id = Number(e.currentTarget.dataset.mode)\n        var array = this.state.switchRest\n        array[id] = !array[id]\n        this.setState({switchRest: array})\n        console.log(this.state)\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    openModal(data) {\n        console.log(data)\n        this.setState({modals: {\n            data: data,\n            activeModal: data.type\n        }})\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    setActiveModal(activeModal) {\n        activeModal = activeModal || null \n\n        this.setState({modals:{\n            activeModal: activeModal,\n            data: this.state.modals.data\n        }})\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    onKeyPressed = (e) => {\n        console.log(e)\n        if(e.key === 'Enter' && this.state.displayList === 'block') {\n            console.log('hi')\n            this.setState({displayMap: 'block', displayList: 'none'})\n        }\n    }\n\n    getIdRestsOnFoodCourt = (id) => {\n        var res = []\n        this.state.foodCourts.map((value) => {\n            if(value.id === id) {\n                value.restaraunts.map((item) => {\n                    res.push(item.id)\n                })\n            }\n        })\n        return res\n    }\n\n    render() {\n        console.log(this.state)\n        var modal = (\n            <ModalRoot activeModal={this.state.modals.activeModal}>\n                <ModalCard \n                    id='restModalCard'\n                    onClose={() => this.setActiveModal(null)}\n                    title={this.state.modals.data.title}\n                    caption={String(this.state.modals.data.address)}\n                    actions={[{\n                        title: 'Меню',\n                        type: 'primary',\n                        action: () => {this.setActiveModal(null); this.setState({activePanel: 'menu'})}\n                    }]}\n                >\n                    <p>\n                        {this.state.modals.data.description}\n                    </p>\n                </ModalCard>\n                <ModalCard\n                    id='foodcourtModalCard'\n                    onClose={() => this.setActiveModal(null)}\n                    title={this.state.modals.data.title}\n                    caption={String(this.state.modals.data.address)}\n                    actions={[{\n                        title: 'Меню',\n                        type: 'primary',\n                        action: () => {\n                            this.setActiveModal(null)\n                            this.setState({activePanel: 'selectRest'})\n                        }\n                    }]}\n                >\n                    <p>\n                        {this.state.modals.data.description}\n                    </p>\n                </ModalCard>\n                <ModalPage \n                    id='filter'\n                    onClose={() => this.setActiveModal(null)}\n                    header={\n                        <ModalPageHeader\n                            //left={platform() === ANDROID && <HeaderButton onClick={() => this.setActiveModal(null)}><Icon24Cancel /></HeaderButton>}\n                            right={<HeaderButton onClick={() => this.setActiveModal(null)}>{platform() === IOS ? 'Готово' : <Icon24Done />}</HeaderButton>}\n                        >\n                            Фильтры\n                        </ModalPageHeader>\n                    }\n                >\n                    {this.state.filters && this.state.filters.cuisine && \n                        <Group title=\"Кухня\">\n                            <List>\n                                {this.state.filters.cuisine.items && this.state.filters.cuisine.items.length > 0 && this.state.filters.cuisine.items.map((item, index) => {\n                                    if(this.state.cuisine[item.id - 1].checked) {\n                                        return (\n                                            <Cell \n                                                key={index} \n                                                defaultChecked\n                                                asideContent={<Switch defaultChecked onClick={() => {\n                                                    var array = this.state.cuisine\n                                                    array[item.id-1].checked = !array[item.id-1].checked\n                                                    this.setState({cuisine: array})\n                                                }}/>}\n                                            >{item.name}</Cell>\n                                        )\n                                    }\n                                    return (\n                                        <Cell \n                                            key={index} \n                                            asideContent={<Switch onClick={() => {\n                                                var array = this.state.cuisine\n                                                array[item.id-1].checked = !array[item.id-1].checked\n                                                this.setState({cuisine: array})\n                                            }}/>}\n                                        >{item.name}</Cell>\n                                    )\n                                })}\n                            </List>\n                        </Group>\n                    }\n                    {this.state.filters && this.state.filters.price_tag && \n                        <Group title='Ценовой диапазон'>\n                            <List>\n                                {this.state.filters.price_tag.items && this.state.filters.price_tag.items.length > 0 && this.state.filters.price_tag.items.map((value, index) => {\n                                    if(this.state.price_tag[index]) {\n                                        return (\n                                            <Cell \n                                                key={index} \n                                                defaultChecked\n                                                asideContent={<Switch defaultChecked onClick={() => {\n                                                    var array = this.state.price_tag\n                                                    array[index] = !array[index]\n                                                    this.setState({price_tag: array})\n                                                }}/>}\n                                            >{String(value[0]) + '-' + String(value[1])}</Cell>\n                                        )\n                                    }\n                                    return (\n                                        <Cell \n                                            key={index} \n                                            asideContent={<Switch onClick={() => {\n                                                var array = this.state.price_tag\n                                                array[index] = !array[index]\n                                                this.setState({price_tag: array})\n                                            }}/>}\n                                        >{String(value[0]) + '-' + String(value[1])}</Cell>\n                                    )\n                                })}\n                            </List>\n                        </Group>\n                    }\n                    {/* <List>\n                        \n                        {this.state.rest.map((value, index) => {\n                            if(this.state.switchRest[index]) {\n                                return (\n                                    <Cell key={index} asideContent={<Switch defaultChecked onClick={this.switchClick} data-mode={value.id}/>}>{value.name}</Cell>\n                                )\n                            }\n                            else {\n                                return (\n                                    <Cell key={index} asideContent={<Switch onClick={this.switchClick} data-mode={value.id}/>}>{value.name}</Cell>\n                                )\n                            }\n                        })}\n                    </List> */}\n                </ModalPage>\n            </ModalRoot>\n        )\n        if(this.state.activePanel === 'menu') {\n            return (\n                <Menu id='menu' trackingOrder={this.props.trackingOrder} restsID={[this.state.modals.data.id]} back={() => this.setState({activePanel: 'map'})}/>\n            )\n        }\n        if(this.state.activePanel === 'selectRest') {\n            return (\n                <SelectRest\n                    id='selectRest' \n                    trackingOrder={this.props.trackingOrder}\n                    foodCourtID={this.state.modals.data.id}\n                    rests={this.state.modals.data.rests}\n                    back={() => this.setState({activePanel: 'map'})}\n                    />\n            )\n        }\n        return (\n            <View header={platform() === IOS} activePanel={this.state.activePanel} modal={modal}>\n                <Panel id='map' style={{overflow: 'hidden'}}>\n                    {platform() === IOS && <PanelHeader>\n                        <Search \n                            id='search'\n                            theme='header'\n                            value={this.state.search} \n                            onChange={(value) => this.setState({search: value})} \n                            onFocus={() => this.setState({displayMap: 'none', displayList: 'block'})}\n                            onBlur={() => this.setState({displayMap: 'block', displayList: 'none'})}\n                            onKeyDown={this.onKeyPressed}\n                            tabIndex='0'\n                        />\n                    </PanelHeader>}\n                    {platform() !== IOS && \n                        <Search \n                            id='search'\n                            value={this.state.search} \n                            onChange={(value) => this.setState({search: value})} \n                            onFocus={() => this.setState({displayMap: 'none', displayList: 'block'})}\n                            onBlur={() => this.setState({displayMap: 'block', displayList: 'none'})}\n                            onKeyDown={this.onKeyPressed}\n                            tabIndex='0'\n                        />\n                    }\n                    \n                    <div style={{display: this.state.displayList}}>\n                        <List>\n                            {this.state.rests && this.state.rests.length > 0 && this.state.rests.map((value, index) => {\n                                var str1 = value.name.toLowerCase()\n                                var str2 = this.state.search.toLowerCase()\n                                if(str1.indexOf(str2) === -1 ) {\n                                    return null\n                                }\n                                return <Cell key={index} expandable onClick={() => {\n                                    console.log(value.latitude)\n                                    console.log(value.longitude)\n                                    this.setState({map: {\n                                    center: [value.latitude, value.longitude],\n                                    zoom: 14\n                                }})}}\n                                >{value.name}</Cell>\n                            })}\n                        </List>\n                    </div>\n                    <div>\n                        <YMaps>\n                            <Map height='100vh' width='100%' state={{center: this.state.map.center, zoom: this.state.map.zoom}}\n                                options={{\n                                    restrictMapArea: this.state.restrictMapArea\n                                }}\n                                instanceRef={map => this.map=map}\n                                onBoundsChange={this.onBoundsChange}\n                            >\n                                <Clusterer \n                                    options={{preset: 'islands#invertedVioletClusterIcons'}}\n                                >\n                                    {this.state.rests && this.state.rests.length > 0 && this.state.rests.map((value, index) => {\n                                        if(!this.state.cuisine[value.cuisine.id-1].checked || !this.state.price_tag[value.price_rating]) {\n                                            return null\n                                        }\n                                        if(value.name.indexOf(this.state.search) === -1) {\n                                            return null\n                                        }\n                                        return (\n                                            <Placemark \n                                                key={index}\n                                                onClick={() => {this.openModal({\n                                                    type: 'restModalCard',\n                                                    title: value.name,\n                                                    id: value.id,\n                                                    address: value.address,\n                                                    description: value.description,\n                                                    rests: []\n                                                })}}\n                                                geometry={[value.latitude, value.longitude]}\n                                                properties={{\n                                                    iconContent: value.name[0],\n                                                }}\n                                                options={{\n                                                    preset: 'islands#orangeIcon'\n                                                }}\n                                            >\n\n                                            </Placemark>\n                                        )\n                                    })}\n\n                                    {this.state.foodCourts && this.state.foodCourts.length > 0 && this.state.foodCourts.map((value, index) => {\n                                        \n                                        return (\n                                            <Placemark\n                                                key={index}\n                                                onClick={() => {this.openModal({\n                                                    type: 'foodcourtModalCard',\n                                                    title: value.name,\n                                                    id: value.id,\n                                                    address: value.address,\n                                                    description: value.description,\n                                                    rests: value.restaraunts\n                                                })}}\n                                                geometry={[value.latitude, value.longitude]}\n                                                properties={{\n                                                    iconContent: value.restaraunts.length,\n                                                }}\n                                                options={{\n                                                    preset: 'islands#orangeIcon'\n                                                }}\n                                            ></Placemark>\n                                        )\n                                    })}\n                                </Clusterer>\n                            </Map>\n                        </YMaps>\n                        <div style={{position: 'fixed', bottom: '50px', right: '10px'}}>\n                            {/* <img src='https://vk.com/images/stickers/94/512.png' style={{height: '75px'}} onClick={() => this.setActiveModal('filter')}/> */}\n                            <img src='http://about-telegram.ru/wp-content/uploads/2018/03/kot-persik-stickers-telegram_21.png' style={{height: '75px'}} onClick={() => this.setActiveModal('filter')}/>\n                        </div>\n                    </div>\n                    {/* <div style={{width: \"100%\", height: \"calc(100vh - 92px)\"}}>\n                        \n                        \n                    </div> */}\n                </Panel>\n            </View>\n        )\n    }\n}\n\nexport default Mymap","import React from 'react'\r\nimport {PanelHeader, View, Panel, ModalCard, ModalRoot, FixedLayout, Avatar, Cell, Select } from '@vkontakte/vkui';\r\n\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\r\n\r\nimport serverAddress from '../../ServerAddress'\r\n\r\nclass Tinder extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activeModal: 'modalRoot',\r\n            fisrt: false,\r\n            sex: 'm'\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.state.fisrt) {\r\n            return (\r\n                <View id={this.props.id} activePanel='mainFirst'>\r\n                    <Panel id='mainFirst'>\r\n                        <PanelHeader>\r\n                            Фуд-дейтинг\r\n                        </PanelHeader>\r\n                        <p>Найдите себе человека, который разделяет ваши предпочтения в еде.</p>\r\n                        <p>Проводите вместе время за любимыми блюдами.</p>\r\n                        <p>Я хочу найти себе</p>\r\n                        <Select>\r\n                            <option value=\"m\">Парня</option>\r\n                            <option value='f'>Девушку</option>\r\n                        </Select>\r\n                        {this.state.sex}\r\n                    </Panel>\r\n                </View>\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel=\"tinderRoot\">\r\n                <Panel id='tinderRoot'>\r\n                    <PanelHeader>\r\n                        Tinder\r\n                    </PanelHeader>\r\n                    <div style={{height: 'calc(100vh - 100x)', width: '100%'}}>\r\n                        <img style={{height: '100%', marginLeft: 'auto', marginRight: 'auto'}} src='https://ditp.ifmo.ru/images/a50b8bf8381b19bc7977ce6cc853fa00.jpg' />\r\n                    </div>\r\n                    <FixedLayout vertical='bottom'>\r\n                        <Cell \r\n                            before={<Avatar size={60}><Icon16Done fill=\"#fff\" width={28} height={28} /></Avatar>}\r\n                            asideContent={<Avatar size={60}><Icon24Like fill=\"#fff\" width={28} height={28} /></Avatar>}\r\n                        ></Cell>\r\n                    </FixedLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tinder","import React from 'react'\r\nimport {View, Panel, HeaderButton, PanelHeader} from '@vkontakte/vkui'\r\nimport connect from '@vkontakte/vk-connect'\r\n\r\nimport serverAddress from '../../ServerAddress'\r\n\r\nclass Order extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activePanel: 'mainorder',\r\n            count: 0,\r\n            coord: ''\r\n        }\r\n\r\n        this.tarcking = this.tarcking.bind(this)\r\n    }\r\n\r\n    async tarcking() {\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        this.tarcking()\r\n    }\r\n\r\n    render() {\r\n        console.log('order')\r\n        return (\r\n            <View id={this.props.id} activePanel='mainorder'>\r\n                <Panel id='mainorder'>\r\n                    <PanelHeader>\r\n                        Test\r\n                    </PanelHeader>\r\n\r\n                    {this.state.count}\r\n                    {this.state.coord}\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Order","import React from 'react'\r\nimport connect from '@vkontakte/vk-connect'\r\n\r\nimport {View, Panel} from '@vkontakte/vkui'\r\n\r\nimport serverAddress from '../../ServerAddress'\r\n\r\nclass FastOrder extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            rests: [],\r\n            foodCourts: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        var coords = [0, 0]\r\n        connect.sendPromise('VKWebAppGetGeodata')\r\n            .then((data) => {\r\n                coords = [data.lan, data.long]\r\n            })\r\n            .catch((error) => {\r\n                console.log(error)\r\n            })\r\n        fetch(serverAddress + '/api/v1/utilities/bounds?lat=' + String(coords[0]) + '&lon=' + String(coords[1]), {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View id={this.props.id} activePanel='mainFastOrder'>\r\n                <Panel id='mainFastOrder'>\r\n                    \r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FastOrder","import React from 'react'\nimport {Panel, Epic, Tabbar, TabbarItem, View, PanelHeader} from '@vkontakte/vkui';\n\nimport Icon24Place from '@vkontakte/icons/dist/24/place';\nimport Icon24Recent from '@vkontakte/icons/dist/24/recent';\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\nimport Icon24Market from '@vkontakte/icons/dist/24/market';\n\nimport Settings from './settings/Settings'\nimport Mymap from './map/Mymap'\nimport Tinder from './tinder/Tinder'\nimport Order from './Order/Order'\nimport FastOrder from './FastOrder/FastOrder'\n\nimport serverAddress from '../ServerAddress'\n\nclass Start extends React.Component {\n    flag_name = true\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            id: props.id,\n            activeStory: 'map',\n            activePanel: 'epic',\n            idRest: null\n        }\n        this.onStoryChange = this.onStoryChange.bind(this);\n    }\n\n    onStoryChange(e) {\n        this.setState({ activeStory: e.currentTarget.dataset.story })\n    }\n\n    viewChange = (viewID) => {\n        this.setState({activeStory: viewID})\n    }\n\n    trackingOrder = (orderID) => {\n        console.log(orderID)\n        this.setState({orderID: orderID, activeStory: 'myorder'})\n    }\n\n    render() {\n        return (\n            <Epic id='epic' activeStory={this.state.activeStory} tabbar={\n                <Tabbar>\n                    <TabbarItem\n                        key='map'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'map'}\n                        data-story='map'\n                        text={this.flag_name ? 'Map' : null }\n                    ><Icon24Place/></TabbarItem>\n                    <TabbarItem\n                        key='quick'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'quick'}\n                        data-story='quick'\n                        text={this.flag_name ? 'Quick' : null}\n                    ><Icon24Recent/> </TabbarItem>\n                    <TabbarItem\n                        key='tinder'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'tinder'}\n                        data-story='tinder'\n                        text={this.flag_name ? 'Tinder' : null }\n                    ><Icon24Like/> </TabbarItem>\n                    <TabbarItem \n                        key='myorder'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'myorder'}\n                        data-story='myorder'\n                        text={this.flag_name ? 'Order' : null}\n                    >\n                        <Icon24Market/>\n                    </TabbarItem>\n                    <TabbarItem\n                        key='settings'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'settings'}\n                        data-story='settings'\n                        text={this.flag_name ? 'Settings' : null }\n                    ><Icon24Settings/> </TabbarItem>\n                </Tabbar>\n                }>\n                <Mymap id='map' viewChange={this.viewChange} trackingOrder={this.trackingOrder}/>\n                \n                <FastOrder id='quick' />\n                <Tinder id='tinder' />\n                <Order id='myorder' orderID={this.state.orderID}/>\n                <View id='settings' activePanel='settings'>\n                    <Panel id='settings'>\n                        <Settings />\n                    </Panel>\n                </View>\n                \n                {/* <View id='basket' activePanel='basket'>\n                    <Panel id='basket'>\n                        Basket\n                    </Panel>\n                </View> */}\n            </Epic>\n        )\n    }\n}\n\nexport default Start","import React from 'react'\r\nimport {View, Panel, Button, Gallery, FixedLayout, Tabs, TabsItem} from '@vkontakte/vkui'\r\n\r\n\r\nclass FirstLogin extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View header={false} activePanel='main'>\r\n                <Panel id='main'>\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'center',\r\n                        alignItems: 'center',\r\n                    }}>\r\n                        <div style={{height: '200px', width: '100%', display: 'block'}}>\r\n                            <Gallery\r\n                                slideWidth='100%'\r\n                                style={{height: '100%', width: '100%'}}\r\n                                bullets=\"dark\"\r\n                            >\r\n                                <div>Hello</div>\r\n                                <div>Hi</div>\r\n                                <div>H</div>\r\n                            </Gallery>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <FixedLayout vertical='bottom'>\r\n                        <Tabs>\r\n                            <TabsItem onClick={this.props.closeThis}>Начать использовать</TabsItem>\r\n                        </Tabs>\r\n                    </FixedLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FirstLogin","import React from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport {Panel, Alert, ScreenSpinner, View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Start from './panels/Start'\nimport Requests from './Requests/Requests'\n\nimport serverAddress from './ServerAddress'\n\nimport FirstLogin from './FirstLogin'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'black',\n\t\t\tfetchedUser: null,\n\t\t\ttoken: null,\n\t\t\tmytoken: null,\n\t\t\tpopout: <ScreenSpinner />,\n\t\t\ttest: 'fail',\n\t\t\tfirstLogin: false,\n\t\t\terrorAuth: false,\n\t\t\tblackPanel: true,\n\t\t\tblackText: ''\n\t\t};\n\t}\n\n\t tryGet(token) {\n\t\tfetch(serverAddress + '/api/v1/users/from_vk_token?token=' + token, {\n\t\t\t\tmethod: \"GET\"\n\t\t\t}).then((data) => {\n\t\t\t\treturn data.json()\n\t\t\t}).then((data) => {\n\t\t\t\tlocalStorage.setItem('token', data.token)\n\t\t\t\tthis.setState({token: token, mytoken: data.token, activePanel: 'start', popout: null, errorAuth: false, blackPanel: false, firstLogin: data.is_new})\n\t\t\t})\n\t}\n\n\tcomponentDidMount() {\n\t\tvar myState = localStorage.getItem('mapState')\n\t\tif(myState !== null) {\n\t\t\tmyState = JSON.parse(myState)\n\t\t\tmyState = {switchRest: myState.switchRest, map: null}\n\t\t\tlocalStorage.setItem('mapState', JSON.stringify(myState))\n\t\t}\n\t\t\n\t\tconnect.send('VKWebAppGetAuthToken', {\"app_id\": 7150406, \"scope\": \"\"})\n        var token = null\n        connect.subscribe((e) => {\n            switch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\t\ttoken = e.detail.data.access_token\n\t\t\t\t\tthis.setState({blackText: token})\n\t\t\t\t\tthis.tryGet(token)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif(this.state.activePanel !== 'start') {\n\t\t\t\t\t\t\tthis.setState({errorAuth: true})}}\n\t\t\t\t\t\t\t, 50000)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppAccessTokenFailed':\n\t\t\t\t\tconsole.log('error connect Vk')\n\t\t\t\t\tthis.setState({errorAuth: true})\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t\n\t\t\t}\n\t\t})\n\t\t// var token = null\n\t\t// console.log('start')\n\t\t// connect.send('VKWebAppGetAuthToken', {\"app_id\": 7150406, \"scope\": \"\"})\n\t\t// connect.subscribe((e) => {\n\n\t\t// \t.then((data)=> {\t\n\t\t// \t\ttoken = data.access_token\n\t\t// \t\tthis.tryGet(token)\n\t\t// \t\tconsole.log(data)\n\t\t// \t\tsetTimeout(() => {\n\t\t// \t\t\tif(this.state.activePanel !== 'start') {\n\t\t// \t\t\t\tthis.setState({errorAuth: true})}}\n\t\t// \t\t\t\t, 50000)\n\t\t// \t})\n\t\t// \t.catch((error) => {\n\t\t// \t\tthis.setState({errorAuth: true})\n\t\t// \t})\n\t}\n\n\tallertPopout = () => {\n\t\tthis.setState({errorAuth: true})\n\t\treturn (\n\t\t\t<Alert\n\t\t\t\tactions={[{\n\t\t\t\t\ttitle: 'Ok',\n\t\t\t\t\tautoclose: true,\n\t\t\t\t\tstyle: 'default'\n\t\t\t\t}]}\n\t\t\t\tonClose={this.closePopout}\n\t\t\t>\n\t\t\t\t<h2>Произошла ошибка при авторизации</h2>\n\t\t\t\t<h2>Повторите попытку позже</h2>\n\t\t\t</Alert>\n\t\t)\n\t}\n\n\tclosePopout = () => {\n\t\tconsole.log('test')\n\t\tthis.setState({popout: <ScreenSpinner />})\n\t}\n\n\n\trender() {\n\t\tconsole.log(this.state)\n\t\ttry {\n\t\t\tif (this.state.errorAuth) {\n\t\t\t\tconsole.log('errorAuth')\n\t\t\t\treturn (\n\t\t\t\t\t<View header={false} activePanel='error'>\n\t\t\t\t\t\t<Panel id='error'>\n\t\t\t\t\t\t\tПроизошла ошибка при авторизации\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</View>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse if (this.state.firstLogin) {\n\t\t\t\tconsole.log('firstLogin')\n\t\t\t\treturn (\n\t\t\t\t\t<FirstLogin closeThis={() => this.setState({firstLogin: false})} />\n\t\t\t\t)\n\t\t\t}\n\t\t\telse if (this.state.blackPanel) {\n\t\t\t\treturn (\n\t\t\t\t\t\t<Panel id='black' popout={<ScreenSpinner/>}>\n\t\t\t\t\t\t\t<p>{this.state.blackText}</p>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<Start id='start'/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tcatch {\n\t\t\treturn (\n\t\t\t\t<View activePanel='bug'>\n\t\t\t\t\t<Panel id='bug'>\n\t\t\t\t\t\tЭто не баг, это фича\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t)\n\t\t}\n\t\t\n\t}\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\n\nconnect.subscribe((e) => {\n    switch (e.detail.type) {\n        case 'VKWebAppUpdateConfig':\n            let schemeAttribute = document.createAttribute('scheme');\n            schemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'client_light';\n            schemeAttribute.value = 'client_dark'\n            document.body.attributes.setNamedItem(schemeAttribute);\n            break;\n \n        default:\n            //console.log(e.detail.type);\n    }\n });\n\nconnect.sendPromise('VKWebAppInit')\n .then((date) => console.log(date))\n .catch((error) => console.log(error))\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}