{"version":3,"sources":["panels/settings/Settings.js","panels/map/Mymap.js","panels/tinder/Tinder.js","panels/Start.js","FirstLogin.js","App.js","index.js"],"names":["Settings","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","fetchedUser","_this2","connect","subscribe","e","detail","type","setState","data","console","log","send","localStorage","getItem","react_default","a","createElement","es6","title","before","photo_200","src","description","city","concat","first_name","last_name","onClick","data-to","React","Component","Mymap","props","restaurants","coord","code","id","map","rest","name","url","foodCourts","onBoundsChange","center","getCenter","zoom","getZoom","_unused","onKeyPressed","key","displayList","displayMap","activePanel","mode","contextOpened","switchRest","go","modals","activeModal","modalHistory","search","restrictMapArea","switchClick","bind","assertThisInitialized","openModal","modalBack","setActiveModal","length","myState","coords","lat","long","JSONmyState","JSON","parse","fetch","String","method","headers","Povysh-Token","then","json","bounds","_unused2","setItem","stringify","Number","currentTarget","dataset","array","_this3","modal","onClose","caption","actions","action","header","right","platform","IOS","done_default","value","index","asideContent","defaultChecked","data-mode","left","chevron_back_default","back_default","style","overflow","onChange","onFocus","onBlur","onKeyDown","tabIndex","display","str1","toLowerCase","str2","indexOf","width","height","react_yandex_maps_esm","instanceRef","options","preset","geometry","properties","iconContent","count","forEach","element","count1","position","bottom","Tinder","Start","flag_name","viewChange","viewID","activeStory","idRest","onStoryChange","story","tabbar","selected","data-story","text","place_default","recent_default","like_default","market_default","settings_default","map_Mymap","tinder_Tinder","settings_Settings","FirstLogin","justifyContent","alignItems","slideWidth","bullets","vertical","closeThis","App","allertPopout","errorAuth","autoclose","closePopout","popout","token","mytoken","test","firstLogin","app_id","scope","access_token","tryGet","setTimeout","_this4","src_FirstLogin","panels_Start","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.b0101e13.chunk.js","sourcesContent":["import React from 'react'\n\nimport connect from '@vkontakte/vkui-connect';\nimport {ListItem, Group, Avatar, PanelHeader, CellButton } from '@vkontakte/vkui';\n\nclass Settings extends React.Component {\n    constructor() {\n        super() \n        this.state = {\n            fetchedUser: null\n        }\n    }\n\n    componentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n    }\n    \n    render() {\n        console.log(localStorage.getItem('mapState'))\n        return (\n            <div>\n                <PanelHeader>Settings</PanelHeader>\n                {this.state.fetchedUser &&\n                <Group title=\"User Data Fetched with VK Connect\">\n                    <ListItem\n                        before={this.state.fetchedUser.photo_200 ? <Avatar src={this.state.fetchedUser.photo_200}/> : null}\n                        description={this.state.fetchedUser.city && this.state.fetchedUser.city.title ? this.state.fetchedUser.city.title : ''}\n                    >\n                        {`${this.state.fetchedUser.first_name} ${this.state.fetchedUser.last_name}`}\n                    </ListItem>\n                </Group>}\n                <Group>\n                    <CellButton onClick={console.log('tap')} data-to='tinder'>\n                        Tinder\n                    </CellButton>\n                    <CellButton onClick={console.log('tap')} data-to='tinder'>\n                        Tinder\n                    </CellButton>\n                </Group>\n            </div>\n        )\n    }\n}\n\nexport default Settings","import React from 'react'\nimport {PanelHeader, View, Panel, Search,  ModalCard, ModalRoot, ModalPage, ModalPageHeader, platform, IOS, HeaderButton } from '@vkontakte/vkui';\nimport {List, Cell, Switch} from '@vkontakte/vkui';\nimport {YMaps, Map, GeolocationControl, Clusterer, Placemark} from 'react-yandex-maps'\nimport connect from '@vkontakte/vkui-connect';\n\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\n\nclass Mymap extends React.Component {\n    restaurants = [\n        {coord: [55.70, 37.60], code: 0, id: 12345},\n        {coord: [55.70, 37.61], code: 1, id: 82936},\n        {coord: [55.70, 37.62], code: 2, id: 12761},\n        {coord: [55.50, 37.60], code: 0, id: 18235},\n        {coord: [55.80, 37.31], code: 1, id: 11813},\n        {coord: [55.50, 36.92], code: 2, id: 16381},\n        {coord: [55.90, 35.60], code: 0, id: 12936},\n    ]\n\n    map = null\n\n    rest = [\n        {name: 'Macdonalds', id: 0, url: 'https://www.pinclipart.com/picdir/middle/113-1137531_mcdonalds-logo-transparent-png-mcdonalds-logo-png-clipart.png'},\n        {name: 'KFC', id: 1, url: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRjI-yxfVTMbNT6ogrdOVoKeaL3UG5zbtgWLWPZqtBs8yGJbWx9'},\n        {name: 'BurgerKing', id: 2, url: 'https://cdn.imgbin.com/12/7/6/imgbin-hamburger-whopper-french-fries-burger-king-chicken-sandwich-burger-king-kGm4a8Unj0yht3gTpGYpkHedg.jpg'}\n    ]\n\n    foodCourts = [\n        {coord: [56.00, 37.60], restaurants: [0, 1, 2], id: 1243},\n        {coord: [56.20, 37.60], restaurants: [0, 1, 2], id: 4357},\n    ]\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            activePanel: 'map',\n            restaurants: this.restaurants,\n            map: {center: [56.00, 37.60], zoom: 14},\n            id: props.id,\n            mode: 'all',\n            contextOpened: false,\n            switchRest:[true, true, true],\n            rest: this.rest,\n            foodCourts: this.foodCourts,\n            go: this.props.go,\n            modals: {\n                activeModal: null,\n                modalHistory: [],\n                data: {\n                    type: null,\n                    id: null,\n                    title: null\n                }\n            },\n            search: '',\n            displayMap: 'block',\n            displayList: 'none',\n            restrictMapArea: [[0, 0], [60, 60]]\n        }\n\n        //this.select = this.select.bind(this)\n        this.switchClick = this.switchClick.bind(this)\n        this.openModal = this.openModal.bind(this)\n\n        this.modalBack = () => {\n            this.setActiveModal(this.state.modals.modalHistory[this.state.modals.modalHistory.length - 2])\n        }\n    }\n\n    onBoundsChange = () => {\n        try {\n            this.setState({\n                map: {\n                    center: this.map.getCenter(),\n                    zoom: this.map.getZoom()\n                }\n            })\n            //localStorage.setItem('mapState', JSON.stringify(this.state))\n        }\n        catch{\n\n        }\n    }\n\n    componentDidMount() {\n        var myState = localStorage.getItem('mapState')\n        console.log(myState)\n        var coords = [0, 0]\n\n        connect.send(\"VKWebAppGetGeodata\", {});\n        connect.subscribe((e) => {\n            console.log(e.detail.data)\n            switch (e.detail.type) {\n                case 'VKWebAppGeodataResult':\n                    console.log(e)\n                    coords = [e.detail.data.lat, e.detail.data.long]\n                    console.log(coords)\n                    break\n                default:\n                    break\n            }\n        })\n\n        // navigator.geolocation.getCurrentPosition((position) => {\n        //     console.log('geolocation')\n        //     coords = [position.coords.latitude, position.coords.longitude]\n        // })\n        if(myState !== null) {\n            var JSONmyState = JSON.parse(myState)\n            var switchRest = JSONmyState.switchRest\n            if(JSONmyState.map === null) {\n                //JSONmyState.map = {center: [0, 0], zoom: 14}\n                console.log(switchRest)\n                JSONmyState = {\n                    map: {center: coords, switchRest: switchRest}\n                }\n                this.setState(JSONmyState)\n            }\n            else{\n                this.setState(JSONmyState)\n            }\n        }\n        else {\n            console.log('elese')\n            var JSONmyState = {\n                map: {\n                    center: coords,\n                    zoom: 14\n                }\n            }\n            this.setState(JSONmyState)\n        }\n        console.log(coords)\n        fetch('https://31dd3131.ngrok.io/api/v1/utilities/bounds?lat=' + String(coords[0]) + '&lon=' + String(coords[1]), {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                var bounds = data.bounds\n                this.setState({restrictMapArea: [[bounds[0], bounds[1]], [bounds[2], bounds[3]]]})\n            } catch {\n\n            }\n            \n        })\n    }\n\n    componentDidUpdate() {\n        var JSONmyState= {map: this.state.map, switchRest: this.state.switchRest}\n        //console.log(localStorage.getItem('token'))\n        localStorage.setItem('mapState', JSON.stringify(JSONmyState))\n    }\n    \n    switchClick(e) {\n        var id = Number(e.currentTarget.dataset.mode)\n        var array = this.state.switchRest\n        array[id] = !array[id]\n        this.setState({switchRest: array})\n        console.log(this.state)\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    openModal(data) {\n        console.log(data)\n        this.setState({modals: {\n            data: data,\n            activeModal: data.type\n        }})\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    setActiveModal(activeModal) {\n        activeModal = activeModal || null \n\n        this.setState({modals:{\n            activeModal: activeModal,\n            data: this.state.modals.data\n        }})\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    onKeyPressed = (e) => {\n        console.log(e)\n        if(e.key === 'Enter' && this.state.displayList === 'block') {\n            console.log('hi')\n            this.setState({displayMap: 'block', displayList: 'none'})\n        }\n    }\n\n    render() {\n        console.log(this.state)\n        var modal = (\n            <ModalRoot activeModal={this.state.modals.activeModal}>\n                <ModalCard \n                    id='restModalCard'\n                    onClose={() => this.setActiveModal(null)}\n                    title={this.state.modals.data.title}\n                    caption={String(this.state.modals.data.id)}\n                    actions={[{\n                        title: 'Меню',\n                        type: 'primary',\n                        action: () => {this.setActiveModal(null); this.setState({activePanel: 'testmap'})}\n                    }]}\n                ></ModalCard>\n                <ModalPage \n                    id='foodcourtModalPage'\n                    onClose={() => this.setActiveModal(null)}\n                    header={\n                        <ModalPageHeader right={<HeaderButton onClick={() => this.setActiveModal(null)}>{platform() === IOS ? 'Готово' : <Icon24Done />}</HeaderButton>}>\n                            {this.state.modals.data.title}\n                        </ModalPageHeader>\n                    }\n                >\n                    <List>\n                        <Cell key='1' onClick={() => console.log('click foodcourt')}>Food Court</Cell>\n                    </List>\n                </ModalPage>\n                <ModalPage \n                    id='filter'\n                    onClose={() => this.setActiveModal(null)}\n                    header={\n                        <ModalPageHeader\n                            //left={platform() === ANDROID && <HeaderButton onClick={() => this.setActiveModal(null)}><Icon24Cancel /></HeaderButton>}\n                            right={<HeaderButton onClick={() => this.setActiveModal(null)}>{platform() === IOS ? 'Готово' : <Icon24Done />}</HeaderButton>}\n                        >\n                            Фильтры\n                        </ModalPageHeader>\n                    }\n                >\n                    <List>\n                        {this.state.rest.map((value, index) => {\n                            if(this.state.switchRest[index]) {\n                                return (\n                                    <Cell key={index} asideContent={<Switch defaultChecked onClick={this.switchClick} data-mode={value.id}/>}>{value.name}</Cell>\n                                )\n                            }\n                            else {\n                                return (\n                                    <Cell key={index} asideContent={<Switch onClick={this.switchClick} data-mode={value.id}/>}>{value.name}</Cell>\n                                )\n                            }\n                        })}\n                    </List>\n                </ModalPage>\n            </ModalRoot>\n        )\n        return (\n            <View header={false} activePanel={this.state.activePanel} modal={modal}>\n                <View id='testmap' activePanel='testmap'>\n                    <Panel id='testmap'>\n                        <PanelHeader\n                            left={<HeaderButton onClick={() => this.setState({activePanel: 'map'})}>\n                                {platform() === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n                            </HeaderButton>}\n                        >\n                            Test\n                        </PanelHeader>\n                    </Panel>\n                </View>\n                \n                <Panel id='map' style={{overflow: 'hidden'}}>\n                    <Search \n                        id='search'\n                        value={this.state.search} \n                        onChange={(value) => this.setState({search: value})} \n                        onFocus={() => this.setState({displayMap: 'none', displayList: 'block'})}\n                        onBlur={() => this.setState({displayMap: 'block', displayList: 'none'})}\n                        onKeyDown={this.onKeyPressed}\n                        tabIndex='0'\n                    />\n                    <div style={{display: this.state.displayList}}>\n                        <List>\n                            {this.state.restaurants.map((value, index) => {\n                                var str1 = this.state.rest[value.code].name.toLowerCase()\n                                var str2 = this.state.search.toLowerCase()\n                                if(str1.indexOf(str2) === -1 ) {\n                                    return null\n                                }\n                                return <Cell key={index}>{this.state.rest[value.code].name}</Cell>\n                            })}\n                        </List>\n                    </div>\n                    <div style={{width: \"100%\", height: \"calc(100vh - 92px)\", display: this.state.displayMap, overflow: 'hidden'}}>\n                        <YMaps>\n                            <Map width=\"100%\" height=\"100%\" state={{center: this.state.map.center, zoom: this.state.map.zoom }} \n                                instanceRef={map => this.map=map}\n                                onBoundsChange={this.onBoundsChange}\n                                options={{\n                                    restrictMapArea: this.state.restrictMapArea\n                                }}\n                                //controls={['smallZoom']}\n                            >\n                                <GeolocationControl />\n                                <Clusterer \n                                    options={{\n                                        preset: 'islands#invertedVioletClusterIcons',\n                                        //groupByCoordinates: false,\n                                    }}>\n                                    {this.state.restaurants.map((value, index) => {\n                                        var str1 = this.state.rest[value.code].name.toLowerCase()\n                                        var str2 = this.state.search.toLowerCase()\n                                        if((this.state.switchRest[value.code] && str1.indexOf(str2) !== -1) || (str1.indexOf(str2) !== -1 && str2 !== '')) {\n                                            return (\n                                                <Placemark \n                                                    key={index}\n                                                    onClick={() => {this.openModal({\n                                                        type: 'restModalCard',\n                                                        title: this.state.rest[value.code].name,\n                                                        id: value.id\n                                                    })}}\n                                                    geometry={value.coord}\n                                                    properties={{\n                                                        iconContent: this.state.rest[value.code].name[0],\n                                                    }}\n                                                    options={{\n                                                        preset: 'islands#orangeIcon'\n                                                    }}\n                                                />\n                                            )\n                                        }\n                                        return null\n                                    })}\n                                    {this.state.foodCourts.map((value, index) => {\n                                        var count = 0\n                                        value.restaurants.forEach(element => {\n                                            var str1 = this.state.rest[element].name.toLowerCase()\n                                            var str2 = this.state.search.toLowerCase()\n                                            if((this.state.switchRest[element] && str1.indexOf(str2) !== -1) || (str1.indexOf(str2) !== -1 && str2 !== '')) {\n                                                count += 1\n                                            } \n                                        })\n\n                                        var count1 = this.state.restaurants.length\n\n                                        if(count === 0) {\n                                            return (null)\n                                        }\n                                    \n                                        return (\n                                            <Placemark \n                                                key = {count1 + index}\n                                                geometry={value.coord}\n                                                properties={{\n                                                    iconContent: count,\n                                                }}\n                                                options={{\n                                                    preset: 'islands#orangeIcon'\n                                                }}\n                                                onClick={() => {this.openModal({\n                                                    type: 'foodcourtModalPage',\n                                                    id: value.id,\n                                                    title: 'foodcourt'\n                                                })}}\n                                            />\n                                        )\n                                    \n                                    })}\n                                </Clusterer>\n                            </Map>\n                        </YMaps>\n                        <div style={{position: 'fixed', bottom: '50px', right: '10px'}}>\n                            {/* <img src='https://vk.com/images/stickers/94/512.png' style={{height: '75px'}} onClick={() => this.setActiveModal('filter')}/> */}\n                            <img src='http://about-telegram.ru/wp-content/uploads/2018/03/kot-persik-stickers-telegram_21.png' style={{height: '75px'}} onClick={() => this.setActiveModal('filter')}/>\n                        </div>\n                    </div>\n                </Panel>\n            </View>\n        )\n    }\n}\n\nexport default Mymap","import React from 'react'\r\nimport {PanelHeader, View, Panel, ModalCard, ModalRoot } from '@vkontakte/vkui';\r\n\r\nclass Tinder extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activeModal: 'modalRoot'\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View id={this.props.id} activePanel=\"tinderRoot\" modal={\r\n                <ModalRoot activeModal={this.state.activeModal}>\r\n                    <ModalCard \r\n                        id='modalRoot'\r\n                        onClose = {() => this.setState({activeModal: null})}\r\n                        title='test'\r\n                        actions={[{\r\n                            title: 'push',\r\n                            type: 'primary',\r\n                            action: () => console.log('test')\r\n                        }]}\r\n                    ></ModalCard>\r\n                </ModalRoot>\r\n            }>\r\n                <Panel id='tinderRotot'>\r\n                    <PanelHeader>\r\n                        Tinder\r\n                    </PanelHeader>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tinder","import React from 'react'\nimport {Panel, Epic, Tabbar, TabbarItem, View, PanelHeader} from '@vkontakte/vkui';\n\nimport Icon24Place from '@vkontakte/icons/dist/24/place';\nimport Icon24Recent from '@vkontakte/icons/dist/24/recent';\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\nimport Icon24Market from '@vkontakte/icons/dist/24/market';\n\nimport Settings from './settings/Settings'\nimport Mymap from './map/Mymap'\nimport Tinder from './tinder/Tinder'\n\nclass Start extends React.Component {\n    flag_name = true\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            id: props.id,\n            activeStory: 'map',\n            activePanel: 'epic',\n            idRest: null\n        }\n        this.onStoryChange = this.onStoryChange.bind(this);\n    }\n\n    onStoryChange(e) {\n        this.setState({ activeStory: e.currentTarget.dataset.story })\n    }\n\n    viewChange = (viewID) => {\n        this.setState({activeStory: viewID})\n    }\n\n    render() {\n        return (\n            <Epic id='epic' activeStory={this.state.activeStory} tabbar={\n                <Tabbar>\n                    <TabbarItem\n                        key='map'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'map'}\n                        data-story='map'\n                        text={this.flag_name ? 'Map' : null }\n                    ><Icon24Place/></TabbarItem>\n                    <TabbarItem\n                        key='quick'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'quick'}\n                        data-story='quick'\n                        text={this.flag_name ? 'Quick' : null}\n                    ><Icon24Recent/> </TabbarItem>\n                    <TabbarItem\n                        key='tinder'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'tinder'}\n                        data-story='tinder'\n                        text={this.flag_name ? 'Tinder' : null }\n                    ><Icon24Like/> </TabbarItem>\n                    <TabbarItem \n                        key='basket'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'basket'}\n                        data-story='basket'\n                        text={this.flag_name && 'basket'}\n                    >\n                        <Icon24Market/>\n                    </TabbarItem>\n                    <TabbarItem\n                        key='settings'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'settings'}\n                        data-story='settings'\n                        text={this.flag_name ? 'Settings' : null }\n                    ><Icon24Settings/> </TabbarItem>\n                </Tabbar>\n                }>\n                <Mymap id='map' viewChange={this.viewChange}/>\n                \n                <View id='quick' activePanel='quick'>\n                    <Panel id='quick'>\n                        <PanelHeader>Quick</PanelHeader>\n                        Quick\n                    </Panel>\n                </View>\n                <Tinder id='tinder' />\n                <View id='settings' activePanel='settings'>\n                    <Panel id='settings'>\n                        <Settings />\n                    </Panel>\n                </View>\n                <View id='basket' activePanel='basket'>\n                    <Panel id='basket'>\n                        Basket\n                    </Panel>\n                </View>\n            </Epic>\n        )\n    }\n}\n\nexport default Start","import React from 'react'\r\nimport {View, Panel, Button, Gallery, FixedLayout, Tabs, TabsItem} from '@vkontakte/vkui'\r\n\r\n\r\nclass FirstLogin extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View header={false} activePanel='main'>\r\n                <Panel id='main'>\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'center',\r\n                        alignItems: 'center',\r\n                    }}>\r\n                        <div style={{height: '200px', width: '100%', display: 'block'}}>\r\n                            <Gallery\r\n                                slideWidth='100%'\r\n                                style={{height: '100%', width: '100%'}}\r\n                                bullets=\"dark\"\r\n                            >\r\n                                <div>Hello</div>\r\n                                <div>Hi</div>\r\n                                <div>H</div>\r\n                            </Gallery>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <FixedLayout vertical='bottom'>\r\n                        <Tabs>\r\n                            <TabsItem onClick={this.props.closeThis}>Начать использовать</TabsItem>\r\n                        </Tabs>\r\n                    </FixedLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FirstLogin","import React from 'react';\nimport connect from '@vkontakte/vkui-connect';\nimport {Panel, Alert, ScreenSpinner, View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Start from './panels/Start'\nimport Requests from './Requests/Requests'\n\n\nimport FirstLogin from './FirstLogin'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'black',\n\t\t\tfetchedUser: null,\n\t\t\ttoken: null,\n\t\t\tmytoken: null,\n\t\t\tpopout: <ScreenSpinner />,\n\t\t\ttest: 'fail',\n\t\t\tfirstLogin: false,\n\t\t\terrorAuth: false\n\t\t};\n\t}\n\n\tasync tryGet(token) {\n\t\t//var data={toke: token + '123456789'}\n\t\t//localStorage.setItem('token', data.token)\n\t\t//this.setState({token: token, mytoken: data.token, activePanel: 'start', popout: null})\n\t\t//return\n\t\tfetch('https://31dd3131.ngrok.io/api/v1/users/from_vk_token?token=' + token, {\n\t\t\t\tmethod: \"GET\"\n\t\t\t}).then((data) => {\n\t\t\t\treturn data.json()\n\t\t\t}).then((data) => {\n\t\t\t\tlocalStorage.setItem('token', data.token)\n\t\t\t\tthis.setState({token: token, mytoken: data.token, activePanel: 'start', popout: null, errorAuth: false})\n\t\t\t})\n\n\t\t// console.log('test1')\n\t\t// var mytoken = Requests.getToken(token)\n\t\t// console.log('test')\n\t\t// localStorage.setItem('token', mytoken)\n\t\t// this.setState({token: token, mytoken: mytoken, activePanel: 'start', popout: null})\n\t}\n\n\tcomponentDidMount() {\n\t\t//this.setState({token: '12345', mytoken: '12345', activePanel: 'start', popout: null})\n\t\t//setTimeout(() => this.setState({activePanel: 'errorauth'}), 10000)\n\t\tvar myState = localStorage.getItem('mapState')\n\t\tif(myState !== null) {\n\t\t\tmyState = JSON.parse(myState)\n\t\t\tmyState = {switchRest: myState.switchRest, map: null}\n\t\t\tlocalStorage.setItem('mapState', JSON.stringify(myState))\n\t\t}\n\t\t\n\t\tconnect.send('VKWebAppGetAuthToken', {\"app_id\": 7150406, \"scope\": \"\"})\n        var token = null\n        connect.subscribe((e) => {\n            switch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n                    token = e.detail.data.access_token\n\t\t\t\t\tthis.tryGet(token)\n\t\t\t\t\tsetTimeout(this.setState({errorAuth: true}), 50000)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppAccessTokenFailed':\n\t\t\t\t\tconsole.log('error connect Vk')\n\t\t\t\t\tthis.setState({errorAuth: true})\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t\n\t\t\t}\n        })\n\t}\n\n\tallertPopout = () => {\n\t\tthis.setState({errorAuth: true})\n\t\treturn (\n\t\t\t<Alert\n\t\t\t\tactions={[{\n\t\t\t\t\ttitle: 'Ok',\n\t\t\t\t\tautoclose: true,\n\t\t\t\t\tstyle: 'default'\n\t\t\t\t}]}\n\t\t\t\tonClose={this.closePopout}\n\t\t\t>\n\t\t\t\t<h2>Произошла ошибка при авторизации</h2>\n\t\t\t\t<h2>Повторите попытку позже</h2>\n\t\t\t</Alert>\n\t\t)\n\t}\n\n\tclosePopout = () => {\n\t\tconsole.log('test')\n\t\tthis.setState({popout: <ScreenSpinner />})\n\t}\n\n\n\trender() {\n\t\tconsole.log(this.state)\n\t\ttry {\n\t\t\tif (this.state.errorAuth) {\n\t\t\t\tconsole.log('errorAuth')\n\t\t\t\treturn (\n\t\t\t\t\t<View header={false} activePanel='error'>\n\t\t\t\t\t\t<Panel id='error'>\n\t\t\t\t\t\t\tПроизошла ошибка при авторизации\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</View>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse if (this.state.firstLogin) {\n\t\t\t\tconsole.log('firstLogin')\n\t\t\t\treturn (\n\t\t\t\t\t<FirstLogin closeThis={() => this.setState({firstLogin: false})} />\n\t\t\t\t)\n\t\t\t}\n\t\t\t// else if (this.state.activePanel === 'black') {\n\t\t\t// \tconsole.log('black')\n\t\t\t// \treturn (\n\t\t\t// \t\t<View header={false} activePanel='error'>\n\t\t\t// \t\t\t<Panel id='error'>\n\t\t\t// \t\t\t\tПроизошла ошибка при авторизации\n\t\t\t// \t\t\t</Panel>\n\t\t\t// \t\t</View>\n\t\t\t// \t)\n\t\t\t// }\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<Start id='start'/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tcatch {\n\t\t\treturn (\n\t\t\t\t<View activePanel='bug'>\n\t\t\t\t\t<Panel id='bug'>\n\t\t\t\t\t\tЭто не баг, это фича\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t)\n\t\t}\n\t\t\n\t}\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\n\nconnect.subscribe((e) => {\n    switch (e.detail.type) {\n        case 'VKWebAppUpdateConfig':\n            let schemeAttribute = document.createAttribute('scheme');\n            schemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'client_light';\n            schemeAttribute.value = 'client_dark'\n            document.body.attributes.setNamedItem(schemeAttribute);\n            break;\n \n        default:\n            console.log(e.detail.type);\n    }\n });\n\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}