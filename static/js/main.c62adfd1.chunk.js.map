{"version":3,"sources":["panels/settings/Settings.js","panels/map/Bag.js","panels/map/Menu.js","panels/map/SelectRest.js","panels/map/Mymap.js","panels/tinder/Tinder.js","panels/Order/Order.js","panels/FastOrder/FastOrder.js","panels/Start.js","FirstLogin.js","App.js","index.js"],"names":["Settings","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","fetchedUser","_this2","connect","subscribe","e","detail","type","setState","data","console","log","send","localStorage","getItem","react_default","a","createElement","es6","title","before","photo_200","src","description","city","concat","first_name","last_name","onClick","data-to","React","Component","Bag","onRefresh","fetching","getBag","fetch","method","headers","Povysh-Token","then","json","price","map","value","menu_item","items","pay","app_id","action","params","orderID","tracking","props","trackingOrder","bind","assertThisInitialized","id","activePanel","isFetching","left","back","platform","IOS","chevron_back_default","back_default","length","index","size","photo_url","name","vertical","String","Menu","getRestsID","str","restsID","i","addToCart","_ref","is_saved","openBase","snackbar","layout","onClose","done_default","fill","width","height","clearBag","bag","categories","currentCategory","categoriesID","menu_category","indexOf","push","_unused","restaraunt_id","_this3","style","map_Bag","key","selected","marginLeft","asideContent","SelectRest","updateArrray","array","rests","checked","map_Menu","selectable","Mymap","restaurants","coord","code","rest","url","foodCourts","onBoundsChange","center","getCenter","zoom","getZoom","onKeyPressed","displayList","displayMap","getIdRestsOnFoodCourt","res","restaraunts","item","mode","contextOpened","switchRest","go","modals","activeModal","modalHistory","search","restrictMapArea","filters","cuisine","price_tag","switchClick","openModal","modalBack","setActiveModal","myState","coords","sendPromise","lat","long","JSONmyState","JSON","parse","bounds","_unused2","_unused3","_unused4","_unused5","setItem","stringify","Number","currentTarget","dataset","modal","caption","address","actions","header","right","_24_done_default","defaultChecked","map_SelectRest","foodCourtID","overflow","theme","onChange","onFocus","onBlur","onKeyDown","tabIndex","display","str1","toLowerCase","str2","expandable","latitude","longitude","react_yandex_maps_esm","options","instanceRef","preset","price_rating","geometry","properties","iconContent","position","bottom","Tinder","fisrt","sex","marginRight","like_default","Order","count","tarcking","FastOrder","Start","flag_name","viewChange","viewID","activeStory","idRest","onStoryChange","story","tabbar","data-story","text","place_default","recent_default","market_default","settings_default","map_Mymap","panels_FastOrder_FastOrder","tinder_Tinder","panels_Order_Order","settings_Settings","FirstLogin","justifyContent","alignItems","slideWidth","bullets","closeThis","App","allertPopout","errorAuth","autoclose","closePopout","popout","token","mytoken","test","firstLogin","blackPanel","blackText","is_new","scope","access_token","tryGet","setTimeout","_this4","src_FirstLogin","panels_Start","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","date","catch","error","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.c62adfd1.chunk.js","sourcesContent":["import React from 'react'\n\nimport connect from '@vkontakte/vkui-connect';\nimport {ListItem, Group, Avatar, PanelHeader, CellButton } from '@vkontakte/vkui';\n\nclass Settings extends React.Component {\n    constructor() {\n        super() \n        this.state = {\n            fetchedUser: null\n        }\n    }\n\n    componentDidMount() {\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({ fetchedUser: e.detail.data });\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n    }\n    \n    render() {\n        console.log(localStorage.getItem('mapState'))\n        return (\n            <div>\n                <PanelHeader>Settings</PanelHeader>\n                {this.state.fetchedUser &&\n                <Group title=\"User Data Fetched with VK Connect\">\n                    <ListItem\n                        before={this.state.fetchedUser.photo_200 ? <Avatar src={this.state.fetchedUser.photo_200}/> : null}\n                        description={this.state.fetchedUser.city && this.state.fetchedUser.city.title ? this.state.fetchedUser.city.title : ''}\n                    >\n                        {`${this.state.fetchedUser.first_name} ${this.state.fetchedUser.last_name}`}\n                    </ListItem>\n                </Group>}\n                <Group>\n                    <CellButton onClick={console.log('tap')} data-to='tinder'>\n                        Tinder\n                    </CellButton>\n                    <CellButton onClick={console.log('tap')} data-to='tinder'>\n                        Tinder\n                    </CellButton>\n                </Group>\n            </div>\n        )\n    }\n}\n\nexport default Settings","import React from 'react'\r\n\r\nimport {View, Panel, PanelHeader, platform, IOS, HeaderButton, List, Cell, Avatar, Tabs, TabsItem, FixedLayout, PullToRefresh} from '@vkontakte/vkui'\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\n\r\nimport connect from '@vkontakte/vkui-connect';\r\n\r\nclass Bag extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            items: [],\r\n            price: 0,\r\n            fetching: false\r\n        }\r\n\r\n        this.getBag = this.getBag.bind(this)\r\n        this.onRefresh = this.onRefresh.bind(this)\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.setState({fetching: true})\r\n        this.getBag()\r\n    }\r\n\r\n    getBag = () => {\r\n        fetch('/api/v1/cart/view', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            var price = 0\r\n            console.log(data)\r\n            data.map((value) =>{\r\n                price += value.menu_item.price\r\n            })\r\n            console.log(price)\r\n            this.setState({items: data, price: price, fetching: false})\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getBag()\r\n    }\r\n\r\n    pay = () => {\r\n        connect.send('VKWebAppOpenPayForm', {app_id: 7150406, action: 'pay-to-service', params: {}})\r\n        fetch('/api/v1/cart/complete', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            var orderID = data.tracking\r\n            console.log(data)\r\n            this.props.trackingOrder(orderID)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View id={this.props.id} activePanel='mainBag'>\r\n                <Panel id='mainBag'>\r\n                    <PullToRefresh onRefresh={this.onRefresh} isFetching={this.state.fetching}>\r\n                        <PanelHeader\r\n                            left={\r\n                                <HeaderButton onClick={this.props.back}>\r\n                                    {platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                                </HeaderButton>\r\n                            }\r\n                        >\r\n                            Bag\r\n                        </PanelHeader>\r\n                        \r\n                        <List>\r\n                            {this.state.items && this.state.items.length > 0 && this.state.items.map((value, index) => {\r\n                                return (\r\n                                    <Cell\r\n                                        before={<Avatar size={64} src={ '' + value.menu_item.photo_url } />}\r\n                                        description={value.menu_item.description}\r\n                                    >\r\n                                        {value.menu_item.name}\r\n                                    </Cell>\r\n                                )\r\n                            })\r\n                            \r\n                            }\r\n                        </List>\r\n                    \r\n                        <FixedLayout vertical='bottom'>\r\n                            <Tabs>\r\n                                <TabsItem onClick={this.pay}>\r\n                                    {'Оплатить: ' + String(this.state.price) + ' руб'}\r\n                                </TabsItem>\r\n                            </Tabs>\r\n                        </FixedLayout>\r\n                    </PullToRefresh>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\nexport default Bag","import React from 'react'\r\n\r\nimport {PanelHeader, View, Panel, HorizontalScroll, TabsItem, Tabs, List, Cell, Avatar, HeaderButton, platform, IOS, Button, Snackbar, FixedLayout, Alert} from '@vkontakte/vkui';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\n\r\nimport Bag from './Bag'\r\nimport { timingSafeEqual } from 'crypto';\r\n\r\nclass Menu extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activePanel: 'mainMenu',\r\n            categories: [],\r\n            items: [],\r\n            currentCategory: -1,\r\n            snackbar: null,\r\n            bag: false\r\n        }\r\n\r\n        this.openBase = this.openBase.bind(this)\r\n    }\r\n\r\n    getRestsID = () => {\r\n        var str = String(this.props.restsID[0])\r\n        for(var i = 1; i < this.props.restsID.length; i++) {\r\n            str += ',' + String(this.props.restsID[i])\r\n        }\r\n        return str\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/api/v1/places/food?restaurant_id=' + this.getRestsID(), {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            try {\r\n                this.setState({items: data})\r\n                var categories = []\r\n                var categoriesID = []\r\n                this.state.items.map((value) => {\r\n                    console.log(value.menu_category)\r\n                    if(categoriesID.indexOf(value.menu_category.id) === -1) {\r\n                        categories.push(value.menu_category)\r\n                        categoriesID.push(value.menu_category.id)\r\n                    }\r\n                })\r\n                this.setState({categories: categories})\r\n                if(this.state.categories && this.state.categories.length > 0) {\r\n                    this.setState({currentCategory: this.state.categories[0].id})\r\n                }\r\n            } catch { } \r\n        })\r\n        fetch('/api/v1/cart/view', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            if(data.length > 0 && this.props.restsID.indexOf(data[0].menu_item.restaraunt_id) === -1) {\r\n                this.setState({bag: true})\r\n            }\r\n        })\r\n    }\r\n\r\n    addToCart = ({id, name}) => {\r\n        fetch('/api/v1/cart/push?menu_item_id=' + String(id), {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        }).then((data) => {\r\n            return data.json()\r\n        }).then((data) => {\r\n            if(data.is_saved) {\r\n                this.openBase(name)\r\n            }\r\n        })\r\n    }\r\n\r\n    openBase = (name) => {\r\n        if (this.state.snackbar) return;\r\n        this.setState({ snackbar:\r\n            <Snackbar\r\n                layout=\"vertical\"\r\n                onClose={() => this.setState({ snackbar: null })}\r\n                before={<Avatar size={24} ><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\r\n            >\r\n                {name + ' добавлен в корзину'}\r\n            </Snackbar>\r\n        })\r\n    }\r\n\r\n    clearBag = () => {\r\n        fetch('/api/v1/cart/clean', {\r\n            method: 'GET',\r\n            headers: {\r\n                'Povysh-Token': localStorage.getItem('token')\r\n            }\r\n        })\r\n        this.setState({bag: false})\r\n    }\r\n\r\n    render() {\r\n        if(this.state.bag) {\r\n            return (\r\n                    <Panel id='mainError'>\r\n                        <div style={{height: '50px'}}></div>\r\n                        <p>У вас в корзине что-то есть, очистить её и продолжить?</p> \r\n                        <Button onClick={this.clearBag} size='xl'>Да</Button>\r\n                        <p></p>\r\n                        <Button onClick={() => this.setState({bag: false, activePanel: 'bag'})} size='xl'>Нет, перейти в корзину</Button>\r\n                    </Panel>\r\n            )\r\n        }\r\n        if(this.state.activePanel === 'bag') {\r\n            return (\r\n                <Bag id={this.props.id} trackingOrder={this.props.trackingOrder} back={() => this.setState({activePanel: 'mainMenu' })} />\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel={this.state.activePanel}>\r\n                <Panel id='mainMenu'>\r\n                    <PanelHeader\r\n                        left={\r\n                            <HeaderButton onClick={this.props.back}>\r\n                              {platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                              \r\n                            </HeaderButton>\r\n                        }\r\n                    >\r\n                        Menu\r\n                    </PanelHeader>\r\n                    <Tabs type=\"buttons\">\r\n                        <HorizontalScroll>\r\n                            {this.state.categories.length > 0 && this.state.categories.map((value, index) => {\r\n                                return (\r\n                                    <TabsItem\r\n                                        key={index}\r\n                                        onClick={() => this.setState({currentCategory: value.id})}\r\n                                        selected={this.state.currentCategory === value.id}\r\n                                        style={{marginLeft: '10px'}}\r\n                                    >\r\n                                        {value.name}\r\n                                    </TabsItem>\r\n                                )\r\n                            })}\r\n                        </HorizontalScroll>\r\n                    </Tabs>\r\n                    <List>\r\n                        {this.state.items && this.state.items.length > 0 && this.state.items.map((value, index) => {\r\n                            if(value.menu_category.id !== this.state.currentCategory) {\r\n                                return null\r\n                            }\r\n                            return (\r\n                                <Cell\r\n                                    before={<Avatar src={'' + value.photo_url} />}\r\n                                    description={value.description}\r\n                                    asideContent={\r\n                                        <Button \r\n                                            onClick={() => {\r\n                                                this.addToCart({id: value.id, name: value.name})\r\n                                                \r\n                                            }}\r\n                                            style={{width: '80px'}}\r\n                                        >{String(value.price) + ' руб'}</Button>\r\n                                    }\r\n                                >\r\n                                    {value.name}\r\n                                </Cell>\r\n                            )\r\n                        })\r\n                        \r\n                        }\r\n                    </List>\r\n\r\n                    <FixedLayout vertical='bottom'>\r\n                        <Tabs>\r\n                            <TabsItem onClick={() => {\r\n                            this.setState({activePanel: 'bag'})\r\n                        }}>Перейти к корзине</TabsItem>\r\n                        </Tabs>\r\n                    </FixedLayout>\r\n                    {this.state.snackbar} \r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Menu","import React from 'react'\r\n\r\nimport {View, Panel, PanelHeader, HeaderButton, platform, IOS, List, Cell, FixedLayout, Button} from '@vkontakte/vkui'\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\nimport { throws } from 'assert';\r\n\r\nimport Menu from './Menu'\r\n\r\nclass SelectRest extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            checked: [],\r\n            activePanel: 'mainSelectRest',\r\n            restsID: []\r\n        }\r\n\r\n        this.updateArrray = this.updateArrray.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        var array = []\r\n        this.props.rests.map(() => {\r\n            array.push(false)\r\n        })\r\n        this.setState({checked: array})\r\n    }\r\n\r\n    updateArrray = () => {\r\n        var array = []\r\n        this.props.rests.map(() => {\r\n            array.push(false)\r\n        })\r\n        this.setState({checked: array})\r\n    }\r\n\r\n    render() {\r\n        if(this.state.activePanel === 'menu') {\r\n            return (\r\n                <Menu id={this.props.id} trackingOrder={this.props.trackingOrder} restsID={this.state.restsID} back={() => {this.setState({activePanel: 'mainSelectRest'}); this.updateArrray()}} />\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel='mainSelectRest'>\r\n                <Panel id='mainSelectRest'>\r\n                    <PanelHeader\r\n                        left={\r\n                            <HeaderButton onClick={this.props.back}>\r\n                              {platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}\r\n                              \r\n                            </HeaderButton>\r\n                          }\r\n                    >\r\n                        Select Rest\r\n                    </PanelHeader>\r\n                    <List>\r\n                        {this.props.rests.map((value, index) => {\r\n                            return (\r\n                                <Cell \r\n                                    selectable\r\n                                    onClick={() => {\r\n                                        var array = this.state.checked\r\n                                        array[index] = !array[index]\r\n                                        this.setState({checked: array})\r\n                                    }}\r\n                                >{value.name}</Cell>\r\n                            )\r\n                        })}\r\n                    </List>\r\n                    <FixedLayout vertical='bottom'>\r\n                        <Button size='xl' onClick={() => {\r\n                            var array = []\r\n                            this.state.checked.map((value, index) => {\r\n                                if(value) {\r\n                                    array.push(this.props.rests[index].id)\r\n                                }\r\n                            })\r\n                            this.setState({restsID: array, activePanel: 'menu'})\r\n                        }}>\r\n                            Продолжить\r\n                        </Button>\r\n                    </FixedLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SelectRest","import React from 'react'\nimport {PanelHeader, View, Panel, Search,  ModalCard, ModalRoot, ModalPage, ModalPageHeader, platform, IOS, HeaderButton, Group, Select } from '@vkontakte/vkui';\nimport {List, Cell, Switch} from '@vkontakte/vkui';\nimport {YMaps, Map, GeolocationControl, Clusterer, Placemark} from 'react-yandex-maps'\nimport connect from '@vkontakte/vk-connect';\n\nimport Menu from './Menu'\nimport SelectRest from './SelectRest'\n\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\n\nclass Mymap extends React.Component {\n    restaurants = [\n        {coord: [55.70, 37.60], code: 0, id: 12345},\n        {coord: [55.70, 37.61], code: 1, id: 82936},\n        {coord: [55.70, 37.62], code: 2, id: 12761},\n        {coord: [55.50, 37.60], code: 0, id: 18235},\n        {coord: [55.80, 37.31], code: 1, id: 11813},\n        {coord: [55.50, 36.92], code: 2, id: 16381},\n        {coord: [55.90, 35.60], code: 0, id: 12936},\n    ]\n\n    map = null\n\n    rest = [\n        {name: 'Macdonalds', id: 0, url: 'https://www.pinclipart.com/picdir/middle/113-1137531_mcdonalds-logo-transparent-png-mcdonalds-logo-png-clipart.png'},\n        {name: 'KFC', id: 1, url: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRjI-yxfVTMbNT6ogrdOVoKeaL3UG5zbtgWLWPZqtBs8yGJbWx9'},\n        {name: 'BurgerKing', id: 2, url: 'https://cdn.imgbin.com/12/7/6/imgbin-hamburger-whopper-french-fries-burger-king-chicken-sandwich-burger-king-kGm4a8Unj0yht3gTpGYpkHedg.jpg'}\n    ]\n\n    foodCourts = [\n        {coord: [56.00, 37.60], restaurants: [0, 1, 2], id: 1243},\n        {coord: [56.20, 37.60], restaurants: [0, 1, 2], id: 4357},\n    ]\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            activePanel: 'map',\n            restaurants: this.restaurants,\n            map: {center: [56.00, 37.60], zoom: 14},\n            id: props.id,\n            mode: 'all',\n            contextOpened: false,\n            switchRest:[true, true, true],\n            rest: this.rest,\n            foodCourts: [],\n            go: this.props.go,\n            modals: {\n                activeModal: null,\n                modalHistory: [],\n                data: {\n                    type: null,\n                    id: null,\n                    title: null,\n                    rests: []\n                }\n            },\n            search: '',\n            displayMap: 'block',\n            displayList: 'none',\n            restrictMapArea: [[0, 0], [60, 60]],\n            rests: [],\n            filters: [],\n            cuisine: [\n                {id: 1, checked: true},\n                {id: 2, checked: true},\n                {id: 3, checked: true},\n            ],\n            price_tag: [\n                true,\n                true,\n                true,\n                true\n            ]\n        }\n\n        //this.select = this.select.bind(this)\n        this.switchClick = this.switchClick.bind(this)\n        this.openModal = this.openModal.bind(this)\n\n        this.modalBack = () => {\n            this.setActiveModal(this.state.modals.modalHistory[this.state.modals.modalHistory.length - 2])\n        }\n    }\n\n    onBoundsChange = () => {\n        try {\n            this.setState({\n                map: {\n                    center: this.map.getCenter(),\n                    zoom: this.map.getZoom()\n                }\n            })\n            //localStorage.setItem('mapState', JSON.stringify(this.state))\n        }\n        catch{\n\n        }\n    }\n\n    componentDidMount() {\n        var myState = localStorage.getItem('mapState')\n        console.log(myState)\n        var coords = [59.9339453, 30.302315699999994]\n\n        connect.sendPromise(\"VKWebAppGetGeodata\")\n            .then((data) => {\n                console.log(data)\n                coords = [data.lat, data.long]\n                this.setState({map: {center: coords, zoom: '13'}})\n            })\n\n        // navigator.geolocation.getCurrentPosition((position) => {\n        //     console.log('geolocation')\n        //     coords = [position.coords.latitude, position.coords.longitude]\n        // })\n        if(myState !== null) {\n            var JSONmyState = JSON.parse(myState)\n            var switchRest = JSONmyState.switchRest\n            if(JSONmyState.map === null) {\n                //JSONmyState.map = {center: [0, 0], zoom: 14}\n                console.log(switchRest)\n                JSONmyState = {\n                    map: {center: coords, switchRest: switchRest}\n                }\n                this.setState(JSONmyState)\n            }\n            else{\n                this.setState(JSONmyState)\n            }\n        }\n        else {\n            console.log('elese')\n            var JSONmyState = {\n                map: {\n                    center: coords,\n                    zoom: 14\n                }\n            }\n            this.setState(JSONmyState)\n        }\n        // this.setState({map: {\n        //     center: coords,\n        //     zoom: this.state.zoom\n        // }})\n        console.log(localStorage.getItem('token'))\n        fetch('/api/v1/utilities/bounds?lat=' + String(coords[0]) + '&lon=' + String(coords[1]), {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                var bounds = data.bounds\n                this.setState({restrictMapArea: [[bounds[0], bounds[1]], [bounds[2], bounds[3]]]})\n            } catch { } \n        })\n        fetch('/api/v1/places/around?lat=' + String(coords[0]) + '&lon=' + String(coords[1]) + '&radius=10', {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                var rests = data\n                this.setState({rests: rests})\n            } catch { } \n        })\n        fetch('/api/v1/utilities/filters', {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                this.setState({filters: data})\n            } catch {}\n        })\n\n        fetch('/api/v1/places/footcourts_around?lat=' + String(coords[0]) + '&lon=' + String(coords[1]) + '&radius=10', {\n            method: 'GET',\n            headers: {\n                'Povysh-Token': localStorage.getItem('token')\n            }\n        }).then((data) => {\n            return data.json()\n        }).then((data) => {\n            try {\n                this.setState({foodCourts: data})\n            }\n            catch {}\n        })\n    }\n\n    componentDidUpdate() {\n        var JSONmyState= {map: this.state.map, switchRest: this.state.switchRest}\n        //console.log(localStorage.getItem('token'))\n        localStorage.setItem('mapState', JSON.stringify(JSONmyState))\n    }\n    \n    switchClick(e) {\n        var id = Number(e.currentTarget.dataset.mode)\n        var array = this.state.switchRest\n        array[id] = !array[id]\n        this.setState({switchRest: array})\n        console.log(this.state)\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    openModal(data) {\n        console.log(data)\n        this.setState({modals: {\n            data: data,\n            activeModal: data.type\n        }})\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    setActiveModal(activeModal) {\n        activeModal = activeModal || null \n\n        this.setState({modals:{\n            activeModal: activeModal,\n            data: this.state.modals.data\n        }})\n        //localStorage.setItem('mapState', JSON.stringify(this.state))\n    }\n\n    onKeyPressed = (e) => {\n        console.log(e)\n        if(e.key === 'Enter' && this.state.displayList === 'block') {\n            console.log('hi')\n            this.setState({displayMap: 'block', displayList: 'none'})\n        }\n    }\n\n    getIdRestsOnFoodCourt = (id) => {\n        var res = []\n        this.state.foodCourts.map((value) => {\n            if(value.id === id) {\n                value.restaraunts.map((item) => {\n                    res.push(item.id)\n                })\n            }\n        })\n        return res\n    }\n\n    render() {\n        console.log(this.state)\n        var modal = (\n            <ModalRoot activeModal={this.state.modals.activeModal}>\n                <ModalCard \n                    id='restModalCard'\n                    onClose={() => this.setActiveModal(null)}\n                    title={this.state.modals.data.title}\n                    caption={String(this.state.modals.data.address)}\n                    actions={[{\n                        title: 'Меню',\n                        type: 'primary',\n                        action: () => {this.setActiveModal(null); this.setState({activePanel: 'menu'})}\n                    }]}\n                >\n                    <p>\n                        {this.state.modals.data.description}\n                    </p>\n                </ModalCard>\n                <ModalCard\n                    id='foodcourtModalCard'\n                    onClose={() => this.setActiveModal(null)}\n                    title={this.state.modals.data.title}\n                    caption={String(this.state.modals.data.address)}\n                    actions={[{\n                        title: 'Меню',\n                        type: 'primary',\n                        action: () => {\n                            this.setActiveModal(null)\n                            this.setState({activePanel: 'selectRest'})\n                        }\n                    }]}\n                >\n                    <p>\n                        {this.state.modals.data.description}\n                    </p>\n                </ModalCard>\n                <ModalPage \n                    id='filter'\n                    onClose={() => this.setActiveModal(null)}\n                    header={\n                        <ModalPageHeader\n                            //left={platform() === ANDROID && <HeaderButton onClick={() => this.setActiveModal(null)}><Icon24Cancel /></HeaderButton>}\n                            right={<HeaderButton onClick={() => this.setActiveModal(null)}>{platform() === IOS ? 'Готово' : <Icon24Done />}</HeaderButton>}\n                        >\n                            Фильтры\n                        </ModalPageHeader>\n                    }\n                >\n                    {this.state.filters && this.state.filters.cuisine && \n                        <Group title=\"Кухня\">\n                            <List>\n                                {this.state.filters.cuisine.items && this.state.filters.cuisine.items.length > 0 && this.state.filters.cuisine.items.map((item, index) => {\n                                    if(this.state.cuisine[item.id - 1].checked) {\n                                        return (\n                                            <Cell \n                                                key={index} \n                                                defaultChecked\n                                                asideContent={<Switch defaultChecked onClick={() => {\n                                                    var array = this.state.cuisine\n                                                    array[item.id-1].checked = !array[item.id-1].checked\n                                                    this.setState({cuisine: array})\n                                                }}/>}\n                                            >{item.name}</Cell>\n                                        )\n                                    }\n                                    return (\n                                        <Cell \n                                            key={index} \n                                            asideContent={<Switch onClick={() => {\n                                                var array = this.state.cuisine\n                                                array[item.id-1].checked = !array[item.id-1].checked\n                                                this.setState({cuisine: array})\n                                            }}/>}\n                                        >{item.name}</Cell>\n                                    )\n                                })}\n                            </List>\n                        </Group>\n                    }\n                    {this.state.filters && this.state.filters.price_tag && \n                        <Group title='Ценовой диапазон'>\n                            <List>\n                                {this.state.filters.price_tag.items && this.state.filters.price_tag.items.length > 0 && this.state.filters.price_tag.items.map((value, index) => {\n                                    if(this.state.price_tag[index]) {\n                                        return (\n                                            <Cell \n                                                key={index} \n                                                defaultChecked\n                                                asideContent={<Switch defaultChecked onClick={() => {\n                                                    var array = this.state.price_tag\n                                                    array[index] = !array[index]\n                                                    this.setState({price_tag: array})\n                                                }}/>}\n                                            >{String(value[0]) + '-' + String(value[1])}</Cell>\n                                        )\n                                    }\n                                    return (\n                                        <Cell \n                                            key={index} \n                                            asideContent={<Switch onClick={() => {\n                                                var array = this.state.price_tag\n                                                array[index] = !array[index]\n                                                this.setState({price_tag: array})\n                                            }}/>}\n                                        >{String(value[0]) + '-' + String(value[1])}</Cell>\n                                    )\n                                })}\n                            </List>\n                        </Group>\n                    }\n                    {/* <List>\n                        \n                        {this.state.rest.map((value, index) => {\n                            if(this.state.switchRest[index]) {\n                                return (\n                                    <Cell key={index} asideContent={<Switch defaultChecked onClick={this.switchClick} data-mode={value.id}/>}>{value.name}</Cell>\n                                )\n                            }\n                            else {\n                                return (\n                                    <Cell key={index} asideContent={<Switch onClick={this.switchClick} data-mode={value.id}/>}>{value.name}</Cell>\n                                )\n                            }\n                        })}\n                    </List> */}\n                </ModalPage>\n            </ModalRoot>\n        )\n        if(this.state.activePanel === 'menu') {\n            return (\n                <Menu id='menu' trackingOrder={this.props.trackingOrder} restsID={[this.state.modals.data.id]} back={() => this.setState({activePanel: 'map'})}/>\n            )\n        }\n        if(this.state.activePanel === 'selectRest') {\n            return (\n                <SelectRest\n                    id='selectRest' \n                    trackingOrder={this.props.trackingOrder}\n                    foodCourtID={this.state.modals.data.id}\n                    rests={this.state.modals.data.rests}\n                    back={() => this.setState({activePanel: 'map'})}\n                    />\n            )\n        }\n        return (\n            <View header={platform() === IOS} activePanel={this.state.activePanel} modal={modal}>\n                <Panel id='map' style={{overflow: 'hidden'}}>\n                    {platform() === IOS && <PanelHeader>\n                        <Search \n                            id='search'\n                            theme='header'\n                            value={this.state.search} \n                            onChange={(value) => this.setState({search: value})} \n                            onFocus={() => this.setState({displayMap: 'none', displayList: 'block'})}\n                            onBlur={() => this.setState({displayMap: 'block', displayList: 'none'})}\n                            onKeyDown={this.onKeyPressed}\n                            tabIndex='0'\n                        />\n                    </PanelHeader>}\n                    {platform() !== IOS && \n                        <Search \n                            id='search'\n                            value={this.state.search} \n                            onChange={(value) => this.setState({search: value})} \n                            onFocus={() => this.setState({displayMap: 'none', displayList: 'block'})}\n                            onBlur={() => this.setState({displayMap: 'block', displayList: 'none'})}\n                            onKeyDown={this.onKeyPressed}\n                            tabIndex='0'\n                        />\n                    }\n                    \n                    <div style={{display: this.state.displayList}}>\n                        <List>\n                            {this.state.rests && this.state.rests.length > 0 && this.state.rests.map((value, index) => {\n                                var str1 = value.name.toLowerCase()\n                                var str2 = this.state.search.toLowerCase()\n                                if(str1.indexOf(str2) === -1 ) {\n                                    return null\n                                }\n                                return <Cell key={index} expandable onClick={() => {\n                                    console.log(value.latitude)\n                                    console.log(value.longitude)\n                                    this.setState({map: {\n                                    center: [value.latitude, value.longitude],\n                                    zoom: 14\n                                }})}}\n                                >{value.name}</Cell>\n                            })}\n                        </List>\n                    </div>\n                    <div>\n                        <YMaps>\n                            <Map height='100vh' width='100%' state={{center: this.state.map.center, zoom: this.state.map.zoom}}\n                                options={{\n                                    restrictMapArea: this.state.restrictMapArea\n                                }}\n                                instanceRef={map => this.map=map}\n                                onBoundsChange={this.onBoundsChange}\n                            >\n                                <Clusterer \n                                    options={{preset: 'islands#invertedVioletClusterIcons'}}\n                                >\n                                    {this.state.rests && this.state.rests.length > 0 && this.state.rests.map((value, index) => {\n                                        if(!this.state.cuisine[value.cuisine.id-1].checked || !this.state.price_tag[value.price_rating]) {\n                                            return null\n                                        }\n                                        if(value.name.indexOf(this.state.search) === -1) {\n                                            return null\n                                        }\n                                        return (\n                                            <Placemark \n                                                key={index}\n                                                onClick={() => {this.openModal({\n                                                    type: 'restModalCard',\n                                                    title: value.name,\n                                                    id: value.id,\n                                                    address: value.address,\n                                                    description: value.description,\n                                                    rests: []\n                                                })}}\n                                                geometry={[value.latitude, value.longitude]}\n                                                properties={{\n                                                    iconContent: value.name[0],\n                                                }}\n                                                options={{\n                                                    preset: 'islands#orangeIcon'\n                                                }}\n                                            >\n\n                                            </Placemark>\n                                        )\n                                    })}\n\n                                    {this.state.foodCourts && this.state.foodCourts.length > 0 && this.state.foodCourts.map((value, index) => {\n                                        \n                                        return (\n                                            <Placemark\n                                                key={index}\n                                                onClick={() => {this.openModal({\n                                                    type: 'foodcourtModalCard',\n                                                    title: value.name,\n                                                    id: value.id,\n                                                    address: value.address,\n                                                    description: value.description,\n                                                    rests: value.restaraunts\n                                                })}}\n                                                geometry={[value.latitude, value.longitude]}\n                                                properties={{\n                                                    iconContent: value.restaraunts.length,\n                                                }}\n                                                options={{\n                                                    preset: 'islands#orangeIcon'\n                                                }}\n                                            ></Placemark>\n                                        )\n                                    })}\n                                </Clusterer>\n                            </Map>\n                        </YMaps>\n                        <div style={{position: 'fixed', bottom: '50px', right: '10px'}}>\n                            {/* <img src='https://vk.com/images/stickers/94/512.png' style={{height: '75px'}} onClick={() => this.setActiveModal('filter')}/> */}\n                            <img src='http://about-telegram.ru/wp-content/uploads/2018/03/kot-persik-stickers-telegram_21.png' style={{height: '75px'}} onClick={() => this.setActiveModal('filter')}/>\n                        </div>\n                    </div>\n                    {/* <div style={{width: \"100%\", height: \"calc(100vh - 92px)\"}}>\n                        \n                        \n                    </div> */}\n                </Panel>\n            </View>\n        )\n    }\n}\n\nexport default Mymap","import React from 'react'\r\nimport {PanelHeader, View, Panel, ModalCard, ModalRoot, FixedLayout, Avatar, Cell, Select } from '@vkontakte/vkui';\r\n\r\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\r\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\r\n\r\nclass Tinder extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activeModal: 'modalRoot',\r\n            fisrt: false,\r\n            sex: 'm'\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.state.fisrt) {\r\n            return (\r\n                <View id={this.props.id} activePanel='mainFirst'>\r\n                    <Panel id='mainFirst'>\r\n                        <PanelHeader>\r\n                            Фуд-дейтинг\r\n                        </PanelHeader>\r\n                        <p>Найдите себе человека, который разделяет ваши предпочтения в еде.</p>\r\n                        <p>Проводите вместе время за любимыми блюдами.</p>\r\n                        <p>Я хочу найти себе</p>\r\n                        <Select>\r\n                            <option value=\"m\">Парня</option>\r\n                            <option value='f'>Девушку</option>\r\n                        </Select>\r\n                        {this.state.sex}\r\n                    </Panel>\r\n                </View>\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel=\"tinderRoot\">\r\n                <Panel id='tinderRoot'>\r\n                    <PanelHeader>\r\n                        Tinder\r\n                    </PanelHeader>\r\n                    <div style={{height: 'calc(100vh - 100x)', width: '100%'}}>\r\n                        <img style={{height: '100%', marginLeft: 'auto', marginRight: 'auto'}} src='https://ditp.ifmo.ru/images/a50b8bf8381b19bc7977ce6cc853fa00.jpg' />\r\n                    </div>\r\n                    <FixedLayout vertical='bottom'>\r\n                        <Cell \r\n                            before={<Avatar size={60}><Icon16Done fill=\"#fff\" width={28} height={28} /></Avatar>}\r\n                            asideContent={<Avatar size={60}><Icon24Like fill=\"#fff\" width={28} height={28} /></Avatar>}\r\n                        ></Cell>\r\n                    </FixedLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tinder","import React from 'react'\r\nimport {View, Panel, HeaderButton, PanelHeader} from '@vkontakte/vkui'\r\nimport connect from '@vkontakte/vk-connect'\r\n\r\nclass Order extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activePanel: 'mainorder',\r\n            count: 0,\r\n            coord: ''\r\n        }\r\n\r\n        this.tarcking = this.tarcking.bind(this)\r\n    }\r\n\r\n    async tarcking() {\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        this.tarcking()\r\n    }\r\n\r\n    render() {\r\n        console.log('order')\r\n        return (\r\n            <View id={this.props.id} activePanel='mainorder'>\r\n                <Panel id='mainorder'>\r\n                    <PanelHeader>\r\n                        Test\r\n                    </PanelHeader>\r\n\r\n                    {this.state.count}\r\n                    {this.state.coord}\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Order","import React from 'react'\r\n\r\nclass FastOrder extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            null\r\n        )\r\n    }\r\n}\r\n\r\nexport default FastOrder","import React from 'react'\nimport {Panel, Epic, Tabbar, TabbarItem, View, PanelHeader} from '@vkontakte/vkui';\n\nimport Icon24Place from '@vkontakte/icons/dist/24/place';\nimport Icon24Recent from '@vkontakte/icons/dist/24/recent';\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\nimport Icon24Like from '@vkontakte/icons/dist/24/like';\nimport Icon24Market from '@vkontakte/icons/dist/24/market';\n\nimport Settings from './settings/Settings'\nimport Mymap from './map/Mymap'\nimport Tinder from './tinder/Tinder'\nimport Order from './Order/Order'\nimport FastOrder from './FastOrder/FastOrder'\n\nclass Start extends React.Component {\n    flag_name = true\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            id: props.id,\n            activeStory: 'map',\n            activePanel: 'epic',\n            idRest: null\n        }\n        this.onStoryChange = this.onStoryChange.bind(this);\n    }\n\n    onStoryChange(e) {\n        this.setState({ activeStory: e.currentTarget.dataset.story })\n    }\n\n    viewChange = (viewID) => {\n        this.setState({activeStory: viewID})\n    }\n\n    trackingOrder = (orderID) => {\n        console.log(orderID)\n        this.setState({orderID: orderID, activeStory: 'myorder'})\n    }\n\n    render() {\n        return (\n            <Epic id='epic' activeStory={this.state.activeStory} tabbar={\n                <Tabbar>\n                    <TabbarItem\n                        key='map'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'map'}\n                        data-story='map'\n                        text={this.flag_name ? 'Map' : null }\n                    ><Icon24Place/></TabbarItem>\n                    <TabbarItem\n                        key='quick'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'quick'}\n                        data-story='quick'\n                        text={this.flag_name ? 'Quick' : null}\n                    ><Icon24Recent/> </TabbarItem>\n                    <TabbarItem\n                        key='tinder'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'tinder'}\n                        data-story='tinder'\n                        text={this.flag_name ? 'Tinder' : null }\n                    ><Icon24Like/> </TabbarItem>\n                    <TabbarItem \n                        key='myorder'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'myorder'}\n                        data-story='myorder'\n                        text={this.flag_name ? 'Order' : null}\n                    >\n                        <Icon24Market/>\n                    </TabbarItem>\n                    <TabbarItem\n                        key='settings'\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'settings'}\n                        data-story='settings'\n                        text={this.flag_name ? 'Settings' : null }\n                    ><Icon24Settings/> </TabbarItem>\n                </Tabbar>\n                }>\n                <Mymap id='map' viewChange={this.viewChange} trackingOrder={this.trackingOrder}/>\n                \n                <FastOrder id='quick' />\n                <Tinder id='tinder' />\n                <Order id='myorder' orderID={this.state.orderID}/>\n                <View id='settings' activePanel='settings'>\n                    <Panel id='settings'>\n                        <Settings />\n                    </Panel>\n                </View>\n                \n                {/* <View id='basket' activePanel='basket'>\n                    <Panel id='basket'>\n                        Basket\n                    </Panel>\n                </View> */}\n            </Epic>\n        )\n    }\n}\n\nexport default Start","import React from 'react'\r\nimport {View, Panel, Button, Gallery, FixedLayout, Tabs, TabsItem} from '@vkontakte/vkui'\r\n\r\n\r\nclass FirstLogin extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <View header={false} activePanel='main'>\r\n                <Panel id='main'>\r\n                    <div style={{\r\n                        display: 'flex',\r\n                        justifyContent: 'center',\r\n                        alignItems: 'center',\r\n                    }}>\r\n                        <div style={{height: '200px', width: '100%', display: 'block'}}>\r\n                            <Gallery\r\n                                slideWidth='100%'\r\n                                style={{height: '100%', width: '100%'}}\r\n                                bullets=\"dark\"\r\n                            >\r\n                                <div>Hello</div>\r\n                                <div>Hi</div>\r\n                                <div>H</div>\r\n                            </Gallery>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <FixedLayout vertical='bottom'>\r\n                        <Tabs>\r\n                            <TabsItem onClick={this.props.closeThis}>Начать использовать</TabsItem>\r\n                        </Tabs>\r\n                    </FixedLayout>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FirstLogin","import React from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport {Panel, Alert, ScreenSpinner, View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Start from './panels/Start'\nimport Requests from './Requests/Requests'\n\n\nimport FirstLogin from './FirstLogin'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'black',\n\t\t\tfetchedUser: null,\n\t\t\ttoken: null,\n\t\t\tmytoken: null,\n\t\t\tpopout: <ScreenSpinner />,\n\t\t\ttest: 'fail',\n\t\t\tfirstLogin: false,\n\t\t\terrorAuth: false,\n\t\t\tblackPanel: true,\n\t\t\tblackText: ''\n\t\t};\n\t}\n\n\t tryGet(token) {\n\t\tfetch('/api/v1/users/from_vk_token?token=' + token, {\n\t\t\t\tmethod: \"GET\"\n\t\t\t}).then((data) => {\n\t\t\t\treturn data.json()\n\t\t\t}).then((data) => {\n\t\t\t\tlocalStorage.setItem('token', data.token)\n\t\t\t\tthis.setState({token: token, mytoken: data.token, activePanel: 'start', popout: null, errorAuth: false, blackPanel: false, firstLogin: data.is_new})\n\t\t\t})\n\t}\n\n\tcomponentDidMount() {\n\t\tvar myState = localStorage.getItem('mapState')\n\t\tif(myState !== null) {\n\t\t\tmyState = JSON.parse(myState)\n\t\t\tmyState = {switchRest: myState.switchRest, map: null}\n\t\t\tlocalStorage.setItem('mapState', JSON.stringify(myState))\n\t\t}\n\t\t\n\t\tconnect.send('VKWebAppGetAuthToken', {\"app_id\": 7150406, \"scope\": \"\"})\n        var token = null\n        connect.subscribe((e) => {\n            switch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppAccessTokenReceived':\n\t\t\t\t\ttoken = e.detail.data.access_token\n\t\t\t\t\tthis.setState({blackText: token})\n\t\t\t\t\tthis.tryGet(token)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif(this.state.activePanel !== 'start') {\n\t\t\t\t\t\t\tthis.setState({errorAuth: true})}}\n\t\t\t\t\t\t\t, 50000)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'VKWebAppAccessTokenFailed':\n\t\t\t\t\tconsole.log('error connect Vk')\n\t\t\t\t\tthis.setState({errorAuth: true})\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t\n\t\t\t}\n\t\t})\n\t\t// var token = null\n\t\t// console.log('start')\n\t\t// connect.send('VKWebAppGetAuthToken', {\"app_id\": 7150406, \"scope\": \"\"})\n\t\t// connect.subscribe((e) => {\n\n\t\t// \t.then((data)=> {\t\n\t\t// \t\ttoken = data.access_token\n\t\t// \t\tthis.tryGet(token)\n\t\t// \t\tconsole.log(data)\n\t\t// \t\tsetTimeout(() => {\n\t\t// \t\t\tif(this.state.activePanel !== 'start') {\n\t\t// \t\t\t\tthis.setState({errorAuth: true})}}\n\t\t// \t\t\t\t, 50000)\n\t\t// \t})\n\t\t// \t.catch((error) => {\n\t\t// \t\tthis.setState({errorAuth: true})\n\t\t// \t})\n\t}\n\n\tallertPopout = () => {\n\t\tthis.setState({errorAuth: true})\n\t\treturn (\n\t\t\t<Alert\n\t\t\t\tactions={[{\n\t\t\t\t\ttitle: 'Ok',\n\t\t\t\t\tautoclose: true,\n\t\t\t\t\tstyle: 'default'\n\t\t\t\t}]}\n\t\t\t\tonClose={this.closePopout}\n\t\t\t>\n\t\t\t\t<h2>Произошла ошибка при авторизации</h2>\n\t\t\t\t<h2>Повторите попытку позже</h2>\n\t\t\t</Alert>\n\t\t)\n\t}\n\n\tclosePopout = () => {\n\t\tconsole.log('test')\n\t\tthis.setState({popout: <ScreenSpinner />})\n\t}\n\n\n\trender() {\n\t\tconsole.log(this.state)\n\t\ttry {\n\t\t\tif (this.state.errorAuth) {\n\t\t\t\tconsole.log('errorAuth')\n\t\t\t\treturn (\n\t\t\t\t\t<View header={false} activePanel='error'>\n\t\t\t\t\t\t<Panel id='error'>\n\t\t\t\t\t\t\tПроизошла ошибка при авторизации\n\t\t\t\t\t\t</Panel>\n\t\t\t\t\t</View>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse if (this.state.firstLogin) {\n\t\t\t\tconsole.log('firstLogin')\n\t\t\t\treturn (\n\t\t\t\t\t<FirstLogin closeThis={() => this.setState({firstLogin: false})} />\n\t\t\t\t)\n\t\t\t}\n\t\t\telse if (this.state.blackPanel) {\n\t\t\t\treturn (\n\t\t\t\t\t\t<Panel id='black' popout={<ScreenSpinner/>}>\n\t\t\t\t\t\t\t<p>{this.state.blackText}</p>\n\t\t\t\t\t\t</Panel>\n\t\t\t\t)\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn (\n\t\t\t\t\t<Start id='start'/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tcatch {\n\t\t\treturn (\n\t\t\t\t<View activePanel='bug'>\n\t\t\t\t\t<Panel id='bug'>\n\t\t\t\t\t\tЭто не баг, это фича\n\t\t\t\t\t</Panel>\n\t\t\t\t</View>\n\t\t\t)\n\t\t}\n\t\t\n\t}\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\n\nconnect.subscribe((e) => {\n    switch (e.detail.type) {\n        case 'VKWebAppUpdateConfig':\n            let schemeAttribute = document.createAttribute('scheme');\n            schemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'client_light';\n            schemeAttribute.value = 'client_dark'\n            document.body.attributes.setNamedItem(schemeAttribute);\n            break;\n \n        default:\n            //console.log(e.detail.type);\n    }\n });\n\nconnect.sendPromise('VKWebAppInit')\n .then((date) => console.log(date))\n .catch((error) => console.log(error))\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}